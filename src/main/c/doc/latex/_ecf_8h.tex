\hypertarget{_ecf_8h}{\section{Ecf.\-h File Reference}
\label{_ecf_8h}\index{Ecf.\-h@{Ecf.\-h}}
}


S\-L\-I\-M Curve -\/ Exponential Curve Fitting Header.  


\subsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
enum \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} \{ \\*
{\bfseries N\-O\-I\-S\-E\-\_\-\-C\-O\-N\-S\-T}, 
{\bfseries N\-O\-I\-S\-E\-\_\-\-G\-I\-V\-E\-N}, 
{\bfseries N\-O\-I\-S\-E\-\_\-\-P\-O\-I\-S\-S\-O\-N\-\_\-\-D\-A\-T\-A}, 
{\bfseries N\-O\-I\-S\-E\-\_\-\-P\-O\-I\-S\-S\-O\-N\-\_\-\-F\-I\-T}, 
\\*
{\bfseries N\-O\-I\-S\-E\-\_\-\-G\-A\-U\-S\-S\-I\-A\-N\-\_\-\-F\-I\-T}, 
{\bfseries N\-O\-I\-S\-E\-\_\-\-M\-L\-E}
 \}
\begin{DoxyCompactList}\small\item\em Noise Type. \end{DoxyCompactList}\item 
enum \hyperlink{_ecf_8h_a02b14794ec966816ffe397474b985361}{fit\-\_\-type} \{ {\bfseries F\-I\-T\-\_\-\-G\-L\-O\-B\-A\-L\-\_\-\-M\-U\-L\-T\-I\-E\-X\-P}, 
{\bfseries F\-I\-T\-\_\-\-G\-L\-O\-B\-A\-L\-\_\-\-S\-T\-R\-E\-T\-C\-H\-E\-D\-E\-X\-P}
 \}
\begin{DoxyCompactList}\small\item\em Fit Type for optimised exponential global analysis. \end{DoxyCompactList}\item 
enum \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type} \{ {\bfseries E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-D\-E\-F\-A\-U\-L\-T}, 
{\bfseries E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-U\-S\-E\-R}
 \}
\begin{DoxyCompactList}\small\item\em Restrain Type. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{_ecf_8h_a7790a7e8ebdca31efd349e44add17cd9}{G\-C\-I\-\_\-triple\-\_\-integral\-\_\-fitting\-\_\-engine} (float xincr, float y\mbox{[}$\,$\mbox{]}, int fit\-\_\-start, int fit\-\_\-end, float instr\mbox{[}$\,$\mbox{]}, int ninstr, \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} noise, float sig\mbox{[}$\,$\mbox{]}, float $\ast$Z, float $\ast$A, float $\ast$tau, float $\ast$fitted, float $\ast$residuals, float $\ast$chisq, float chisq\-\_\-target)
\begin{DoxyCompactList}\small\item\em The main entry point for Triple Integral or Rapid Lifetime Determination (R\-L\-D). \end{DoxyCompactList}\item 
int \hyperlink{_ecf_8h_ae0d1a8e9fbe07999187bace488004c4a}{G\-C\-I\-\_\-marquardt\-\_\-fitting\-\_\-engine} (float xincr, float $\ast$trans, int ndata, int fit\-\_\-start, int fit\-\_\-end, float instr\mbox{[}$\,$\mbox{]}, int ninstr, \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} noise, float sig\mbox{[}$\,$\mbox{]}, float param\mbox{[}$\,$\mbox{]}, int paramfree\mbox{[}$\,$\mbox{]}, int nparam, \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type} restrain, void($\ast$fitfunc)(float, float\mbox{[}$\,$\mbox{]}, float $\ast$, float\mbox{[}$\,$\mbox{]}, int), float $\ast$fitted, float $\ast$residuals, float $\ast$chisq, float $\ast$$\ast$covar, float $\ast$$\ast$alpha, float $\ast$$\ast$erraxes, float chisq\-\_\-target, float chisq\-\_\-delta, int chisq\-\_\-percent)
\begin{DoxyCompactList}\small\item\em The main entry point for L\-M and M\-L\-E fitting. \end{DoxyCompactList}\item 
\hypertarget{_ecf_8h_ad62c421e86238246287fc9cadf4bf171}{int {\bfseries G\-C\-I\-\_\-triple\-\_\-integral} (float xincr, float y\mbox{[}$\,$\mbox{]}, int fit\-\_\-start, int fit\-\_\-end, \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} noise, float sig\mbox{[}$\,$\mbox{]}, float $\ast$Z, float $\ast$A, float $\ast$tau, float $\ast$fitted, float $\ast$residuals, float $\ast$chisq, int division)}\label{_ecf_8h_ad62c421e86238246287fc9cadf4bf171}

\item 
\hypertarget{_ecf_8h_a3c72ce45f467e73bdbfdeecba86a2d3a}{int {\bfseries G\-C\-I\-\_\-triple\-\_\-integral\-\_\-instr} (float xincr, float y\mbox{[}$\,$\mbox{]}, int fit\-\_\-start, int fit\-\_\-end, float instr\mbox{[}$\,$\mbox{]}, int ninstr, \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} noise, float sig\mbox{[}$\,$\mbox{]}, float $\ast$Z, float $\ast$A, float $\ast$tau, float $\ast$fitted, float $\ast$residuals, float $\ast$chisq, int division)}\label{_ecf_8h_a3c72ce45f467e73bdbfdeecba86a2d3a}

\item 
\hypertarget{_ecf_8h_a5bbaf55df7653f2f443e38b6f6b1e1a9}{int {\bfseries G\-C\-I\-\_\-marquardt} (float x\mbox{[}$\,$\mbox{]}, float y\mbox{[}$\,$\mbox{]}, int ndata, \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} noise, float sig\mbox{[}$\,$\mbox{]}, float param\mbox{[}$\,$\mbox{]}, int paramfree\mbox{[}$\,$\mbox{]}, int nparam, \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type} restrain, void($\ast$fitfunc)(float, float\mbox{[}$\,$\mbox{]}, float $\ast$, float\mbox{[}$\,$\mbox{]}, int), float $\ast$fitted, float $\ast$residuals, float $\ast$$\ast$covar, float $\ast$$\ast$alpha, float $\ast$chisq, float chisq\-\_\-delta, float chisq\-\_\-percent, float $\ast$$\ast$erraxes)}\label{_ecf_8h_a5bbaf55df7653f2f443e38b6f6b1e1a9}

\item 
\hypertarget{_ecf_8h_a527b18f8e48919e46f32af4889662f48}{int {\bfseries G\-C\-I\-\_\-marquardt\-\_\-instr} (float xincr, float y\mbox{[}$\,$\mbox{]}, int ndata, int fit\-\_\-start, int fit\-\_\-end, float instr\mbox{[}$\,$\mbox{]}, int ninstr, \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} noise, float sig\mbox{[}$\,$\mbox{]}, float param\mbox{[}$\,$\mbox{]}, int paramfree\mbox{[}$\,$\mbox{]}, int nparam, \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type} restrain, void($\ast$fitfunc)(float, float\mbox{[}$\,$\mbox{]}, float $\ast$, float\mbox{[}$\,$\mbox{]}, int), float $\ast$fitted, float $\ast$residuals, float $\ast$$\ast$covar, float $\ast$$\ast$alpha, float $\ast$chisq, float chisq\-\_\-delta, float chisq\-\_\-percent, float $\ast$$\ast$erraxes)}\label{_ecf_8h_a527b18f8e48919e46f32af4889662f48}

\item 
\hypertarget{_ecf_8h_a26e45e21bc6592ea929a9b103fe9c4d2}{void {\bfseries G\-C\-I\-\_\-marquardt\-\_\-cleanup} (void)}\label{_ecf_8h_a26e45e21bc6592ea929a9b103fe9c4d2}

\item 
int \hyperlink{_ecf_8h_adaf97138127a9b5b4db9de0c15a95742}{G\-C\-I\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr} (float xincr, float $\ast$$\ast$trans, int ndata, int ntrans, int fit\-\_\-start, int fit\-\_\-end, float instr\mbox{[}$\,$\mbox{]}, int ninstr, \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} noise, float sig\mbox{[}$\,$\mbox{]}, int ftype, float $\ast$$\ast$param, int paramfree\mbox{[}$\,$\mbox{]}, int nparam, \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type} restrain, float chisq\-\_\-delta, float $\ast$$\ast$fitted, float $\ast$$\ast$residuals, float chisq\-\_\-trans\mbox{[}$\,$\mbox{]}, float $\ast$chisq\-\_\-global, int $\ast$df, int drop\-\_\-bad\-\_\-transients)
\begin{DoxyCompactList}\small\item\em Global analysis analysis function for exponential functions. \end{DoxyCompactList}\item 
int \hyperlink{_ecf_8h_ac92d80a24a54ae6853e5c49de4e965ab}{G\-C\-I\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr} (float xincr, float $\ast$$\ast$trans, int ndata, int ntrans, int fit\-\_\-start, int fit\-\_\-end, float instr\mbox{[}$\,$\mbox{]}, int ninstr, \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} noise, float sig\mbox{[}$\,$\mbox{]}, float $\ast$$\ast$param, int paramfree\mbox{[}$\,$\mbox{]}, int nparam, int gparam\mbox{[}$\,$\mbox{]}, \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type} restrain, float chisq\-\_\-delta, void($\ast$fitfunc)(float, float\mbox{[}$\,$\mbox{]}, float $\ast$, float\mbox{[}$\,$\mbox{]}, int), float $\ast$$\ast$fitted, float $\ast$$\ast$residuals, float chisq\-\_\-trans\mbox{[}$\,$\mbox{]}, float $\ast$chisq\-\_\-global, int $\ast$df)
\begin{DoxyCompactList}\small\item\em Global analysis analysis function for generic functions. \end{DoxyCompactList}\item 
int \hyperlink{_ecf_8h_ae1168eba7dd501dd4427c436d6351d1d}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt} (float x\mbox{[}$\,$\mbox{]}, float y\mbox{[}$\,$\mbox{]}, int ndata, \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} noise, float sig\mbox{[}$\,$\mbox{]}, float param\mbox{[}$\,$\mbox{]}, int paramfree\mbox{[}$\,$\mbox{]}, int nparam, \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type} restrain, float chisq\-\_\-delta, void($\ast$fitfunc)(float, float\mbox{[}$\,$\mbox{]}, float $\ast$, float\mbox{[}$\,$\mbox{]}, int), int spa\-\_\-param, int spa\-\_\-nvalues, float spa\-\_\-low, float spa\-\_\-high, float chisq\mbox{[}$\,$\mbox{]}, void($\ast$progressfunc)(float))
\begin{DoxyCompactList}\small\item\em Support plane analysis. \end{DoxyCompactList}\item 
int \hyperlink{_ecf_8h_a1b39dab2b8a463ca924475c8633696e2}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt} (float x\mbox{[}$\,$\mbox{]}, float y\mbox{[}$\,$\mbox{]}, int ndata, \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} noise, float sig\mbox{[}$\,$\mbox{]}, float param\mbox{[}$\,$\mbox{]}, int paramfree\mbox{[}$\,$\mbox{]}, int nparam, \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type} restrain, float chisq\-\_\-delta, void($\ast$fitfunc)(float, float\mbox{[}$\,$\mbox{]}, float $\ast$, float\mbox{[}$\,$\mbox{]}, int), int spa\-\_\-param1, int spa\-\_\-nvalues1, float spa\-\_\-low1, float spa\-\_\-high1, int spa\-\_\-param2, int spa\-\_\-nvalues2, float spa\-\_\-low2, float spa\-\_\-high2, float $\ast$$\ast$chisq, void($\ast$progressfunc)(float))
\begin{DoxyCompactList}\small\item\em Support plane analysis for 2 parameters. \end{DoxyCompactList}\item 
int \hyperlink{_ecf_8h_a9e3f8e4749667b5b5f1720d73ce50763}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-instr} (float xincr, float y\mbox{[}$\,$\mbox{]}, int ndata, int fit\-\_\-start, int fit\-\_\-end, float instr\mbox{[}$\,$\mbox{]}, int ninstr, \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} noise, float sig\mbox{[}$\,$\mbox{]}, float param\mbox{[}$\,$\mbox{]}, int paramfree\mbox{[}$\,$\mbox{]}, int nparam, \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type} restrain, float chisq\-\_\-delta, void($\ast$fitfunc)(float, float\mbox{[}$\,$\mbox{]}, float $\ast$, float\mbox{[}$\,$\mbox{]}, int), int spa\-\_\-param, int spa\-\_\-nvalues, float spa\-\_\-low, float spa\-\_\-high, float chisq\mbox{[}$\,$\mbox{]}, float chisq\-\_\-target, void($\ast$progressfunc)(float))
\begin{DoxyCompactList}\small\item\em Support plane analysis with instrument response (prompt or I\-R\-F). \end{DoxyCompactList}\item 
int \hyperlink{_ecf_8h_aaff4047b469c3733f1a96002c5245b24}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-instr} (float xincr, float y\mbox{[}$\,$\mbox{]}, int ndata, int fit\-\_\-start, int fit\-\_\-end, float instr\mbox{[}$\,$\mbox{]}, int ninstr, \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} noise, float sig\mbox{[}$\,$\mbox{]}, float param\mbox{[}$\,$\mbox{]}, int paramfree\mbox{[}$\,$\mbox{]}, int nparam, \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type} restrain, float chisq\-\_\-delta, void($\ast$fitfunc)(float, float\mbox{[}$\,$\mbox{]}, float $\ast$, float\mbox{[}$\,$\mbox{]}, int), int spa\-\_\-param1, int spa\-\_\-nvalues1, float spa\-\_\-low1, float spa\-\_\-high1, int spa\-\_\-param2, int spa\-\_\-nvalues2, float spa\-\_\-low2, float spa\-\_\-high2, float $\ast$$\ast$chisq, float chisq\-\_\-target, void($\ast$progressfunc)(float))
\begin{DoxyCompactList}\small\item\em Support plane analysis for 2 parameters with instrument response (prompt or I\-R\-F). \end{DoxyCompactList}\item 
int \hyperlink{_ecf_8h_a453a6f925407eca916460aceb57c77cb}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr} (float xincr, float $\ast$$\ast$trans, int ndata, int ntrans, int fit\-\_\-start, int fit\-\_\-end, float instr\mbox{[}$\,$\mbox{]}, int ninstr, \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} noise, float sig\mbox{[}$\,$\mbox{]}, int ftype, float $\ast$$\ast$param, int paramfree\mbox{[}$\,$\mbox{]}, int nparam, \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type} restrain, float chisq\-\_\-delta, int drop\-\_\-bad\-\_\-transients, int spa\-\_\-param, int spa\-\_\-nvalues, float spa\-\_\-low, float spa\-\_\-high, float chisq\-\_\-global\mbox{[}$\,$\mbox{]}, int df\mbox{[}$\,$\mbox{]}, void($\ast$progressfunc)(float))
\begin{DoxyCompactList}\small\item\em Support plane analysis for exponential global analysis with instrument response (prompt or I\-R\-F). \end{DoxyCompactList}\item 
int \hyperlink{_ecf_8h_ad8c7cdbe73b7ec002bd6e8ac431b9d3e}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr} (float xincr, float $\ast$$\ast$trans, int ndata, int ntrans, int fit\-\_\-start, int fit\-\_\-end, float instr\mbox{[}$\,$\mbox{]}, int ninstr, \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} noise, float sig\mbox{[}$\,$\mbox{]}, int ftype, float $\ast$$\ast$param, int paramfree\mbox{[}$\,$\mbox{]}, int nparam, \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type} restrain, float chisq\-\_\-delta, int drop\-\_\-bad\-\_\-transients, int spa\-\_\-param1, int spa\-\_\-nvalues1, float spa\-\_\-low1, float spa\-\_\-high1, int spa\-\_\-param2, int spa\-\_\-nvalues2, float spa\-\_\-low2, float spa\-\_\-high2, float $\ast$$\ast$chisq\-\_\-global, int $\ast$$\ast$df, void($\ast$progressfunc)(float))
\begin{DoxyCompactList}\small\item\em Support plane analysis for exponential global with 2 parameters with instrument response (prompt or I\-R\-F). \end{DoxyCompactList}\item 
int \hyperlink{_ecf_8h_a3061b9b85996dba7b3342592671a3733}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr} (float xincr, float $\ast$$\ast$trans, int ndata, int ntrans, int fit\-\_\-start, int fit\-\_\-end, float instr\mbox{[}$\,$\mbox{]}, int ninstr, \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} noise, float sig\mbox{[}$\,$\mbox{]}, float $\ast$$\ast$param, int paramfree\mbox{[}$\,$\mbox{]}, int nparam, int gparam\mbox{[}$\,$\mbox{]}, \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type} restrain, float chisq\-\_\-delta, void($\ast$fitfunc)(float, float\mbox{[}$\,$\mbox{]}, float $\ast$, float\mbox{[}$\,$\mbox{]}, int), int spa\-\_\-param, int spa\-\_\-nvalues, float spa\-\_\-low, float spa\-\_\-high, float chisq\-\_\-global\mbox{[}$\,$\mbox{]}, int df\mbox{[}$\,$\mbox{]}, void($\ast$progressfunc)(float))
\begin{DoxyCompactList}\small\item\em Support plane analysis for generic global analysis with instrument response (prompt or I\-R\-F). \end{DoxyCompactList}\item 
int \hyperlink{_ecf_8h_a7179d4f6287c800aa0a0cf229a8f1634}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr} (float xincr, float $\ast$$\ast$trans, int ndata, int ntrans, int fit\-\_\-start, int fit\-\_\-end, float instr\mbox{[}$\,$\mbox{]}, int ninstr, \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} noise, float sig\mbox{[}$\,$\mbox{]}, float $\ast$$\ast$param, int paramfree\mbox{[}$\,$\mbox{]}, int nparam, int gparam\mbox{[}$\,$\mbox{]}, \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type} restrain, float chisq\-\_\-delta, void($\ast$fitfunc)(float, float\mbox{[}$\,$\mbox{]}, float $\ast$, float\mbox{[}$\,$\mbox{]}, int), int spa\-\_\-param1, int spa\-\_\-nvalues1, float spa\-\_\-low1, float spa\-\_\-high1, int spa\-\_\-param2, int spa\-\_\-nvalues2, float spa\-\_\-low2, float spa\-\_\-high2, float $\ast$$\ast$chisq\-\_\-global, int $\ast$$\ast$df, void($\ast$progressfunc)(float))
\begin{DoxyCompactList}\small\item\em Support plane analysis for generic global with 2 parameters with instrument response (prompt or I\-R\-F). \end{DoxyCompactList}\item 
int \hyperlink{_ecf_8h_a6bdc3c1da7c48ac0dac24ad0192be828}{G\-C\-I\-\_\-set\-\_\-restrain\-\_\-limits} (int nparam, int restrain\mbox{[}$\,$\mbox{]}, float minval\mbox{[}$\,$\mbox{]}, float maxval\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Setting restraints. \end{DoxyCompactList}\item 
void \hyperlink{_ecf_8h_a2344b98c118e8e514a67a6331235525a}{G\-C\-I\-\_\-multiexp\-\_\-lambda} (float x, float param\mbox{[}$\,$\mbox{]}, float $\ast$y, float dy\-\_\-dparam\mbox{[}$\,$\mbox{]}, int nparam)
\begin{DoxyCompactList}\small\item\em multi-\/exp predefined fitting model based on decay rates (lambdas). \end{DoxyCompactList}\item 
void \hyperlink{_ecf_8h_ac180a3ee448f5962b0f0af64fe809e3d}{G\-C\-I\-\_\-multiexp\-\_\-tau} (float x, float param\mbox{[}$\,$\mbox{]}, float $\ast$y, float dy\-\_\-dparam\mbox{[}$\,$\mbox{]}, int nparam)
\begin{DoxyCompactList}\small\item\em multi-\/exp predefined fitting model based on lifetimes (taus). \end{DoxyCompactList}\item 
void \hyperlink{_ecf_8h_abd5e64cbb4216ace85ecb0f4529fd3aa}{G\-C\-I\-\_\-stretchedexp} (float x, float param\mbox{[}$\,$\mbox{]}, float $\ast$y, float dy\-\_\-dparam\mbox{[}$\,$\mbox{]}, int nparam)
\begin{DoxyCompactList}\small\item\em stretched-\/exp predefined fitting model. \end{DoxyCompactList}\item 
float $\ast$$\ast$ \hyperlink{_ecf_8h_a2ad195c79ea0a1f4f1065d0ca2e9023e}{G\-C\-I\-\_\-ecf\-\_\-matrix} (long nrows, long ncols)
\begin{DoxyCompactList}\small\item\em Allocate a 2d matrix for ecf fitting. \end{DoxyCompactList}\item 
void \hyperlink{_ecf_8h_afd88f267cae9ae28b315c683b4b82732}{G\-C\-I\-\_\-ecf\-\_\-free\-\_\-matrix} (float $\ast$$\ast$m)
\begin{DoxyCompactList}\small\item\em Free a 2d matrix. \end{DoxyCompactList}\item 
void \hyperlink{_ecf_8h_ae63f74d4be13a796382e2fef38ada44d}{E\-C\-F\-\_\-\-Export\-Params\-\_\-start} (char path\mbox{[}$\,$\mbox{]})
\begin{DoxyCompactList}\small\item\em Start exporting fit details to a file for each fit. \end{DoxyCompactList}\item 
void \hyperlink{_ecf_8h_a822aae0e48446f43c31f5cf70a87af1c}{E\-C\-F\-\_\-\-Export\-Params\-\_\-stop} (void)
\begin{DoxyCompactList}\small\item\em Stop exporting fit details to a file for each fit. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
S\-L\-I\-M Curve -\/ Exponential Curve Fitting Header. 

Definition in file \hyperlink{_ecf_8h_source}{Ecf.\-h}.



\subsection{Enumeration Type Documentation}
\hypertarget{_ecf_8h_a02b14794ec966816ffe397474b985361}{\index{Ecf.\-h@{Ecf.\-h}!fit\-\_\-type@{fit\-\_\-type}}
\index{fit\-\_\-type@{fit\-\_\-type}!Ecf.h@{Ecf.\-h}}
\subsubsection[{fit\-\_\-type}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf fit\-\_\-type}}}\label{_ecf_8h_a02b14794ec966816ffe397474b985361}


Fit Type for optimised exponential global analysis. 

Chooses between a multi-\/exponential fit (F\-I\-T\-\_\-\-G\-L\-O\-B\-A\-L\-\_\-\-M\-U\-L\-T\-I\-E\-X\-P) and the special 'stretched' exponential (F\-I\-T\-\_\-\-G\-L\-O\-B\-A\-L\-\_\-\-S\-T\-R\-E\-T\-C\-H\-E\-D\-E\-X\-P). 

Definition at line 51 of file Ecf.\-h.

\hypertarget{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{\index{Ecf.\-h@{Ecf.\-h}!noise\-\_\-type@{noise\-\_\-type}}
\index{noise\-\_\-type@{noise\-\_\-type}!Ecf.h@{Ecf.\-h}}
\subsubsection[{noise\-\_\-type}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf noise\-\_\-type}}}\label{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}


Noise Type. 

'N\-O\-I\-S\-E\-\_\-\-C\-O\-N\-S\-T' -\/ every data point is assumed to have the same supplied variance.\par
 'N\-O\-I\-S\-E\-\_\-\-G\-I\-V\-E\-N' -\/ every data point can have an individual variance, given via a data array.\par
 'N\-O\-I\-S\-E\-\_\-\-G\-A\-U\-S\-S\-I\-A\-N\-\_\-\-F\-I\-T' -\/ Variance for Gaussian distribution is used at all data points Variants based on the data or the fit.\par
 'N\-O\-I\-S\-E\-\_\-\-P\-O\-I\-S\-S\-O\-N\-\_\-\-D\-A\-T\-A and N\-O\-I\-S\-E\-\_\-\-P\-O\-I\-S\-S\-O\-N\-\_\-\-F\-I\-T' -\/ Variance for Gaussian distribution is used with a lower limit of 15, this being the point where the Gaussian approximation begins to break down with Poissonian data. Variants based on the data or the fit.\par
 'N\-O\-I\-S\-E\-\_\-\-M\-L\-E' -\/ Maximum Likelihood Estimation through the use of the Poisson equation (Laurence and Chromy 2010).\par
 

Definition at line 45 of file Ecf.\-h.

\hypertarget{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{\index{Ecf.\-h@{Ecf.\-h}!restrain\-\_\-type@{restrain\-\_\-type}}
\index{restrain\-\_\-type@{restrain\-\_\-type}!Ecf.h@{Ecf.\-h}}
\subsubsection[{restrain\-\_\-type}]{\setlength{\rightskip}{0pt plus 5cm}enum {\bf restrain\-\_\-type}}}\label{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}


Restrain Type. 

Chooses the restrain type, either the default with very wide sensible limits (E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-D\-E\-F\-A\-U\-L\-T) or 'user' defined limits (E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-U\-S\-E\-R). See \hyperlink{_ecf_8h_a6bdc3c1da7c48ac0dac24ad0192be828}{G\-C\-I\-\_\-set\-\_\-restrain\-\_\-limits}. 

Definition at line 56 of file Ecf.\-h.



\subsection{Function Documentation}
\hypertarget{_ecf_8h_ae63f74d4be13a796382e2fef38ada44d}{\index{Ecf.\-h@{Ecf.\-h}!E\-C\-F\-\_\-\-Export\-Params\-\_\-start@{E\-C\-F\-\_\-\-Export\-Params\-\_\-start}}
\index{E\-C\-F\-\_\-\-Export\-Params\-\_\-start@{E\-C\-F\-\_\-\-Export\-Params\-\_\-start}!Ecf.h@{Ecf.\-h}}
\subsubsection[{E\-C\-F\-\_\-\-Export\-Params\-\_\-start}]{\setlength{\rightskip}{0pt plus 5cm}void E\-C\-F\-\_\-\-Export\-Params\-\_\-start (
\begin{DoxyParamCaption}
\item[{char}]{path\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_ae63f74d4be13a796382e2fef38ada44d}


Start exporting fit details to a file for each fit. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em path} & The path of the file to use to save fit details. \\
\hline
\end{DoxyParams}
\hypertarget{_ecf_8h_a822aae0e48446f43c31f5cf70a87af1c}{\index{Ecf.\-h@{Ecf.\-h}!E\-C\-F\-\_\-\-Export\-Params\-\_\-stop@{E\-C\-F\-\_\-\-Export\-Params\-\_\-stop}}
\index{E\-C\-F\-\_\-\-Export\-Params\-\_\-stop@{E\-C\-F\-\_\-\-Export\-Params\-\_\-stop}!Ecf.h@{Ecf.\-h}}
\subsubsection[{E\-C\-F\-\_\-\-Export\-Params\-\_\-stop}]{\setlength{\rightskip}{0pt plus 5cm}void E\-C\-F\-\_\-\-Export\-Params\-\_\-stop (
\begin{DoxyParamCaption}
\item[{void}]{}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_a822aae0e48446f43c31f5cf70a87af1c}


Stop exporting fit details to a file for each fit. 

\hypertarget{_ecf_8h_afd88f267cae9ae28b315c683b4b82732}{\index{Ecf.\-h@{Ecf.\-h}!G\-C\-I\-\_\-ecf\-\_\-free\-\_\-matrix@{G\-C\-I\-\_\-ecf\-\_\-free\-\_\-matrix}}
\index{G\-C\-I\-\_\-ecf\-\_\-free\-\_\-matrix@{G\-C\-I\-\_\-ecf\-\_\-free\-\_\-matrix}!Ecf.h@{Ecf.\-h}}
\subsubsection[{G\-C\-I\-\_\-ecf\-\_\-free\-\_\-matrix}]{\setlength{\rightskip}{0pt plus 5cm}void G\-C\-I\-\_\-ecf\-\_\-free\-\_\-matrix (
\begin{DoxyParamCaption}
\item[{float $\ast$$\ast$}]{m}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_afd88f267cae9ae28b315c683b4b82732}


Free a 2d matrix. 

\hypertarget{_ecf_8h_a2ad195c79ea0a1f4f1065d0ca2e9023e}{\index{Ecf.\-h@{Ecf.\-h}!G\-C\-I\-\_\-ecf\-\_\-matrix@{G\-C\-I\-\_\-ecf\-\_\-matrix}}
\index{G\-C\-I\-\_\-ecf\-\_\-matrix@{G\-C\-I\-\_\-ecf\-\_\-matrix}!Ecf.h@{Ecf.\-h}}
\subsubsection[{G\-C\-I\-\_\-ecf\-\_\-matrix}]{\setlength{\rightskip}{0pt plus 5cm}float$\ast$$\ast$ G\-C\-I\-\_\-ecf\-\_\-matrix (
\begin{DoxyParamCaption}
\item[{long}]{nrows, }
\item[{long}]{ncols}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_a2ad195c79ea0a1f4f1065d0ca2e9023e}


Allocate a 2d matrix for ecf fitting. 

\hypertarget{_ecf_8h_ae0d1a8e9fbe07999187bace488004c4a}{\index{Ecf.\-h@{Ecf.\-h}!G\-C\-I\-\_\-marquardt\-\_\-fitting\-\_\-engine@{G\-C\-I\-\_\-marquardt\-\_\-fitting\-\_\-engine}}
\index{G\-C\-I\-\_\-marquardt\-\_\-fitting\-\_\-engine@{G\-C\-I\-\_\-marquardt\-\_\-fitting\-\_\-engine}!Ecf.h@{Ecf.\-h}}
\subsubsection[{G\-C\-I\-\_\-marquardt\-\_\-fitting\-\_\-engine}]{\setlength{\rightskip}{0pt plus 5cm}int G\-C\-I\-\_\-marquardt\-\_\-fitting\-\_\-engine (
\begin{DoxyParamCaption}
\item[{float}]{xincr, }
\item[{float $\ast$}]{trans, }
\item[{int}]{ndata, }
\item[{int}]{fit\-\_\-start, }
\item[{int}]{fit\-\_\-end, }
\item[{float}]{instr\mbox{[}$\,$\mbox{]}, }
\item[{int}]{ninstr, }
\item[{{\bf noise\-\_\-type}}]{noise, }
\item[{float}]{sig\mbox{[}$\,$\mbox{]}, }
\item[{float}]{param\mbox{[}$\,$\mbox{]}, }
\item[{int}]{paramfree\mbox{[}$\,$\mbox{]}, }
\item[{int}]{nparam, }
\item[{{\bf restrain\-\_\-type}}]{restrain, }
\item[{void($\ast$)(float, float\mbox{[}$\,$\mbox{]}, float $\ast$, float\mbox{[}$\,$\mbox{]}, int)}]{fitfunc, }
\item[{float $\ast$}]{fitted, }
\item[{float $\ast$}]{residuals, }
\item[{float $\ast$}]{chisq, }
\item[{float $\ast$$\ast$}]{covar, }
\item[{float $\ast$$\ast$}]{alpha, }
\item[{float $\ast$$\ast$}]{erraxes, }
\item[{float}]{chisq\-\_\-target, }
\item[{float}]{chisq\-\_\-delta, }
\item[{int}]{chisq\-\_\-percent}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_ae0d1a8e9fbe07999187bace488004c4a}


The main entry point for L\-M and M\-L\-E fitting. 

Uses G\-C\-I\-\_\-marquardt\-\_\-instr() to fit repeatedly until chisq\-\_\-target is met or a maximum number of iterations are used. This can be used to fit any function through the 'fitfunc', but is primarily used for single, multi and stretched exponential fits. Predefined fitting models G\-C\-I\-\_\-multiexp\-\_\-tau and G\-C\-I\-\_\-stretchedexp are provided elsewhere in the library.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em xincr} & The time increment in between the values in the y array. \\
\hline
\mbox{\tt in}  & {\em trans} & The transient (time resolved) signal to be analysed, the 'data'. \\
\hline
\mbox{\tt in}  & {\em ndata} & The number of data points. \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-start} & The index into the y array marking the start to the data to be used in the fit. Some data before this start index is required for convolution with the prompt. \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-end} & The index into the y array marking the end of the data to be used in the fit. \\
\hline
\mbox{\tt in}  & {\em instr} & The instrument response (I\-R\-F) or prompt signal to be used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em ninstr} & The number of data points in the prompt (ignored if prompt = N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em noise} & The \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} to be used. \\
\hline
\mbox{\tt in}  & {\em sig} & The standard deviation at each data point in y if \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} N\-O\-I\-S\-E\-\_\-\-G\-I\-V\-E\-N is used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in,out}  & {\em param} & An array of parameters, the order of which must match fitfunc. Provide parameter estimates, these are overridden with the fitted values. \\
\hline
\mbox{\tt in}  & {\em paramfree} & An array indicating which parameters are free (1), fixed (0) \\
\hline
\mbox{\tt in}  & {\em nparam} & The number of parameters. \\
\hline
\mbox{\tt in}  & {\em restrain} & Parameter \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type}. Normally use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-D\-E\-F\-A\-U\-L\-T. Use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-U\-S\-E\-R if restraining parameters has been setup via G\-C\-I\-\_\-set\-\_\-restrain\-\_\-limits. \\
\hline
\mbox{\tt in}  & {\em fitfunc} & Encodes the function to fit to the data, e.\-g. \hyperlink{_ecf_8h_ac180a3ee448f5962b0f0af64fe809e3d}{G\-C\-I\-\_\-multiexp\-\_\-tau}. \\
\hline
\mbox{\tt out}  & {\em fitted} & An array containing values fitted to the data, the 'fit'. Fit points are coincident in time with the data points. \\
\hline
\mbox{\tt out}  & {\em residuals} & An array containing the difference between the data and the fit. \\
\hline
\mbox{\tt out}  & {\em chisq} & The resulting raw chi squared value of the fit. To get the reduced chisq, divide by the degrees of freedom (fit\-\_\-start -\/ fit\-\_\-end -\/ nparam) \\
\hline
\mbox{\tt out}  & {\em covar} & The covariance matrix. Allocate with a square matrix with \hyperlink{_ecf_8h_a2ad195c79ea0a1f4f1065d0ca2e9023e}{G\-C\-I\-\_\-ecf\-\_\-matrix} (nparam, nparam). \\
\hline
\mbox{\tt out}  & {\em alpha} & The alpha matrix. Allocate with a square matrix with \hyperlink{_ecf_8h_a2ad195c79ea0a1f4f1065d0ca2e9023e}{G\-C\-I\-\_\-ecf\-\_\-matrix} (nparam, nparam). \\
\hline
\mbox{\tt out}  & {\em erraxes} & The dimensions of the confidence ellipsoid of the chisq. See chisq\-\_\-percent below. Allocate with a square matrix with \hyperlink{_ecf_8h_a2ad195c79ea0a1f4f1065d0ca2e9023e}{G\-C\-I\-\_\-ecf\-\_\-matrix} (nparam, nparam). \\
\hline
\mbox{\tt in}  & {\em chisq\-\_\-target} & A raw chi squared value to aim for. If this value is reached fitting will stop. If you want to aim for a reduced chisq (say 1.\-1 or 1.\-0) you must multiply by the degree of freedom. (T\-R\-I2\-: \char`\"{}\-Try refits\char`\"{}) \\
\hline
\mbox{\tt in}  & {\em chisq\-\_\-delta} & An individual fit will continue if the chisq value changes by more then this amount. Try 1\-E-\/5. (T\-R\-I2\-: \char`\"{}\-Stopping Criterion\char`\"{}) \\
\hline
\mbox{\tt in}  & {\em chisq\-\_\-percent} & Defines the confidence interval when calculating the error axes, e.\-g. 95 \%. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error code, 0 = success. 
\end{DoxyReturn}
\hypertarget{_ecf_8h_adaf97138127a9b5b4db9de0c15a95742}{\index{Ecf.\-h@{Ecf.\-h}!G\-C\-I\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr@{G\-C\-I\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr}}
\index{G\-C\-I\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr@{G\-C\-I\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr}!Ecf.h@{Ecf.\-h}}
\subsubsection[{G\-C\-I\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr}]{\setlength{\rightskip}{0pt plus 5cm}int G\-C\-I\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr (
\begin{DoxyParamCaption}
\item[{float}]{xincr, }
\item[{float $\ast$$\ast$}]{trans, }
\item[{int}]{ndata, }
\item[{int}]{ntrans, }
\item[{int}]{fit\-\_\-start, }
\item[{int}]{fit\-\_\-end, }
\item[{float}]{instr\mbox{[}$\,$\mbox{]}, }
\item[{int}]{ninstr, }
\item[{{\bf noise\-\_\-type}}]{noise, }
\item[{float}]{sig\mbox{[}$\,$\mbox{]}, }
\item[{int}]{ftype, }
\item[{float $\ast$$\ast$}]{param, }
\item[{int}]{paramfree\mbox{[}$\,$\mbox{]}, }
\item[{int}]{nparam, }
\item[{{\bf restrain\-\_\-type}}]{restrain, }
\item[{float}]{chisq\-\_\-delta, }
\item[{float $\ast$$\ast$}]{fitted, }
\item[{float $\ast$$\ast$}]{residuals, }
\item[{float}]{chisq\-\_\-trans\mbox{[}$\,$\mbox{]}, }
\item[{float $\ast$}]{chisq\-\_\-global, }
\item[{int $\ast$}]{df, }
\item[{int}]{drop\-\_\-bad\-\_\-transients}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_adaf97138127a9b5b4db9de0c15a95742}


Global analysis analysis function for exponential functions. 

The main entry point for Global analysis with exponential functions. This assumes global exponential params (lifetimes) and local amplitudes.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em xincr} & The time increment inbetween the values in the y array. \\
\hline
\mbox{\tt in}  & {\em trans} & A pointer to a matrix of transient (time resolved) signals to be analysed, the 'data'. Allocate with \hyperlink{_ecf_8h_a2ad195c79ea0a1f4f1065d0ca2e9023e}{G\-C\-I\-\_\-ecf\-\_\-matrix}. \\
\hline
\mbox{\tt in}  & {\em ndata} & The number of data points in each transient. \\
\hline
\mbox{\tt in}  & {\em ntrans} & The number of transient signals (pixels in a time resolved image). \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-start} & The index into the y array marking the start to the data to be used in the fit. Some data before this start index is required for convolution with the prompt. \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-end} & The index into the y array marking the end of the data to be used in the fit. \\
\hline
\mbox{\tt in}  & {\em instr} & The instrument reponse (I\-R\-F) or prompt signal to be used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em ninstr} & The number of data points in the prompt (ignored if prompt = N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em noise} & The \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} to be used. \\
\hline
\mbox{\tt in}  & {\em sig} & The standard deviation at each data point in y if \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} N\-O\-I\-S\-E\-\_\-\-G\-I\-V\-E\-N is used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em ftype} & The type of function to fit can be multi-\/exponential (F\-I\-T\-\_\-\-G\-L\-O\-B\-A\-L\-\_\-\-M\-U\-L\-T\-I\-E\-X\-P) or stretched exponential (F\-I\-T\-\_\-\-G\-L\-O\-B\-A\-L\-\_\-\-S\-T\-R\-E\-T\-C\-H\-E\-D\-E\-X\-P). For other fitting functions use the global generic function. \\
\hline
\mbox{\tt in,out}  & {\em param} & A pointer to an array of parameter arrays, the order of which must match fitfunc. \\
\hline
\mbox{\tt in}  & {\em paramfree} & An array indicating which parameters are free (1), fixed (0). \\
\hline
\mbox{\tt in}  & {\em nparam} & The number of parameters per fit. \\
\hline
\mbox{\tt in}  & {\em restrain} & Parameter \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type}. Normally use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-D\-E\-F\-A\-U\-L\-T. Use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-U\-S\-E\-R if restraining parameters has been setup via G\-C\-I\-\_\-set\-\_\-restrain\-\_\-limits. \\
\hline
\mbox{\tt in}  & {\em chisq\-\_\-delta} & An individual fit will continue if the chisq value changes by more then this amount. Try 1\-E-\/5. (T\-R\-I2\-: \char`\"{}\-Stopping Criterion\char`\"{}) \\
\hline
\mbox{\tt out}  & {\em fitted} & A pointer to a matrix containing values fitted to the data, the 'fit'. Fit points are coincident in time with the data points. Only the first row is used. Allocate with \hyperlink{_ecf_8h_a2ad195c79ea0a1f4f1065d0ca2e9023e}{G\-C\-I\-\_\-ecf\-\_\-matrix} with nrows=1. \\
\hline
\mbox{\tt out}  & {\em residuals} & A matrix containing the difference between the data and the fit. Only the first row is used. Allocate with \hyperlink{_ecf_8h_a2ad195c79ea0a1f4f1065d0ca2e9023e}{G\-C\-I\-\_\-ecf\-\_\-matrix} with nrows=1. \\
\hline
\mbox{\tt out}  & {\em chisq\-\_\-trans} & An array of the resulting raw chi squared values of the fits. To get the reduced chisq, divide by the degrees of freedom (fit\-\_\-start -\/ fit\-\_\-end -\/ nparam). \\
\hline
\mbox{\tt out}  & {\em chisq\-\_\-global} & The resulting raw chi squared value of the total global fit. To get the reduced chisq, divide by the degrees of freedom df. \\
\hline
\mbox{\tt out}  & {\em df} & The degrees of freedom. \\
\hline
\mbox{\tt in}  & {\em drop\-\_\-bad\-\_\-transients} & Remove individual transients from the fit that have a -\/ve return value from G\-C\-I\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-do\-\_\-fit\-\_\-single (default = 1) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error code, 0 = success. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{_ecf_8h_ac92d80a24a54ae6853e5c49de4e965ab}{G\-C\-I\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr} 
\end{DoxySeeAlso}
\hypertarget{_ecf_8h_ac92d80a24a54ae6853e5c49de4e965ab}{\index{Ecf.\-h@{Ecf.\-h}!G\-C\-I\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr@{G\-C\-I\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr}}
\index{G\-C\-I\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr@{G\-C\-I\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr}!Ecf.h@{Ecf.\-h}}
\subsubsection[{G\-C\-I\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr}]{\setlength{\rightskip}{0pt plus 5cm}int G\-C\-I\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr (
\begin{DoxyParamCaption}
\item[{float}]{xincr, }
\item[{float $\ast$$\ast$}]{trans, }
\item[{int}]{ndata, }
\item[{int}]{ntrans, }
\item[{int}]{fit\-\_\-start, }
\item[{int}]{fit\-\_\-end, }
\item[{float}]{instr\mbox{[}$\,$\mbox{]}, }
\item[{int}]{ninstr, }
\item[{{\bf noise\-\_\-type}}]{noise, }
\item[{float}]{sig\mbox{[}$\,$\mbox{]}, }
\item[{float $\ast$$\ast$}]{param, }
\item[{int}]{paramfree\mbox{[}$\,$\mbox{]}, }
\item[{int}]{nparam, }
\item[{int}]{gparam\mbox{[}$\,$\mbox{]}, }
\item[{{\bf restrain\-\_\-type}}]{restrain, }
\item[{float}]{chisq\-\_\-delta, }
\item[{void($\ast$)(float, float\mbox{[}$\,$\mbox{]}, float $\ast$, float\mbox{[}$\,$\mbox{]}, int)}]{fitfunc, }
\item[{float $\ast$$\ast$}]{fitted, }
\item[{float $\ast$$\ast$}]{residuals, }
\item[{float}]{chisq\-\_\-trans\mbox{[}$\,$\mbox{]}, }
\item[{float $\ast$}]{chisq\-\_\-global, }
\item[{int $\ast$}]{df}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_ac92d80a24a54ae6853e5c49de4e965ab}


Global analysis analysis function for generic functions. 

The main entry point for Global analysis with generic functions.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em xincr} & The time increment inbetween the values in the y array. \\
\hline
\mbox{\tt in}  & {\em trans} & A pointer to a matrix of transient (time resolved) signals to be analysed, the 'data'. Allocate with \hyperlink{_ecf_8h_a2ad195c79ea0a1f4f1065d0ca2e9023e}{G\-C\-I\-\_\-ecf\-\_\-matrix}. \\
\hline
\mbox{\tt in}  & {\em ndata} & The number of data points in each transient. \\
\hline
\mbox{\tt in}  & {\em ntrans} & The number of transient signals (pixels in a time resolved image). \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-start} & The index into the y array marking the start to the data to be used in the fit. Some data before this start index is required for convolution with the prompt. \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-end} & The index into the y array marking the end of the data to be used in the fit. \\
\hline
\mbox{\tt in}  & {\em instr} & The instrument reponse (I\-R\-F) or prompt signal to be used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em ninstr} & The number of data points in the prompt (ignored if prompt = N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em noise} & The \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} to be used. \\
\hline
\mbox{\tt in}  & {\em sig} & The standard deviation at each data point in y if \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} N\-O\-I\-S\-E\-\_\-\-G\-I\-V\-E\-N is used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in,out}  & {\em param} & A pointer to an array of parameter arrays, the order of which must match fitfunc. Allocate with \hyperlink{_ecf_8h_a2ad195c79ea0a1f4f1065d0ca2e9023e}{G\-C\-I\-\_\-ecf\-\_\-matrix} (ntrans, nparam). The global params will be the same for every transient. \\
\hline
\mbox{\tt in}  & {\em paramfree} & An array indicating which parameters are free (1), fixed (0). \\
\hline
\mbox{\tt in}  & {\em nparam} & The number of parameters per fit. \\
\hline
\mbox{\tt in}  & {\em gparam} & An array marking which parameters are to be globally determined. \\
\hline
\mbox{\tt in}  & {\em restrain} & Parameter \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type}. Normally use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-D\-E\-F\-A\-U\-L\-T. Use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-U\-S\-E\-R if restraining parameters has been setup via G\-C\-I\-\_\-set\-\_\-restrain\-\_\-limits. \\
\hline
\mbox{\tt in}  & {\em chisq\-\_\-delta} & An individual fit will continue if the chisq value changes by more then this amount. Try 1\-E-\/5. (T\-R\-I2\-: \char`\"{}\-Stopping Criterion\char`\"{}) \\
\hline
\mbox{\tt in}  & {\em fitfunc} & Encodes the function to fit to the data, e.\-g. \hyperlink{_ecf_8h_ac180a3ee448f5962b0f0af64fe809e3d}{G\-C\-I\-\_\-multiexp\-\_\-tau}. \\
\hline
\mbox{\tt out}  & {\em fitted} & A pointer to a matrix containing values fitted to the data, the 'fit'. Fit points are coincident in time with the data points. Only the first row is used. Allocate with \hyperlink{_ecf_8h_a2ad195c79ea0a1f4f1065d0ca2e9023e}{G\-C\-I\-\_\-ecf\-\_\-matrix} with nrows=1. \\
\hline
\mbox{\tt out}  & {\em residuals} & A matrix containing the difference between the data and the fit. Only the first row is used. Allocate with \hyperlink{_ecf_8h_a2ad195c79ea0a1f4f1065d0ca2e9023e}{G\-C\-I\-\_\-ecf\-\_\-matrix} with nrows=1. \\
\hline
\mbox{\tt out}  & {\em chisq\-\_\-trans} & An array of the resulting raw chi squared values of the fits. To get the reduced chisq, divide by the degrees of freedom (fit\-\_\-start -\/ fit\-\_\-end -\/ nparam). \\
\hline
\mbox{\tt out}  & {\em chisq\-\_\-global} & The resulting raw chi squared value of the total global fit. To get the reduced chisq, divide by the degrees of freedom df. \\
\hline
\mbox{\tt out}  & {\em df} & The degrees of freedom. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error code, 0 = success. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{_ecf_8h_adaf97138127a9b5b4db9de0c15a95742}{G\-C\-I\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr} 
\end{DoxySeeAlso}
\hypertarget{_ecf_8h_a2344b98c118e8e514a67a6331235525a}{\index{Ecf.\-h@{Ecf.\-h}!G\-C\-I\-\_\-multiexp\-\_\-lambda@{G\-C\-I\-\_\-multiexp\-\_\-lambda}}
\index{G\-C\-I\-\_\-multiexp\-\_\-lambda@{G\-C\-I\-\_\-multiexp\-\_\-lambda}!Ecf.h@{Ecf.\-h}}
\subsubsection[{G\-C\-I\-\_\-multiexp\-\_\-lambda}]{\setlength{\rightskip}{0pt plus 5cm}void G\-C\-I\-\_\-multiexp\-\_\-lambda (
\begin{DoxyParamCaption}
\item[{float}]{x, }
\item[{float}]{param\mbox{[}$\,$\mbox{]}, }
\item[{float $\ast$}]{y, }
\item[{float}]{dy\-\_\-dparam\mbox{[}$\,$\mbox{]}, }
\item[{int}]{nparam}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_a2344b98c118e8e514a67a6331235525a}


multi-\/exp predefined fitting model based on decay rates (lambdas). 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em x} & The x value to evaluate the function at. \\
\hline
\mbox{\tt in}  & {\em param\mbox{[}$\,$\mbox{]}} & Array containing the parameters to use in the evaluation. \\
\hline
\mbox{\tt out}  & {\em y} & The value of the function at the x value. \\
\hline
\mbox{\tt out}  & {\em dy\-\_\-dparam} & Array of dy/dparam values at this point \\
\hline
\mbox{\tt in}  & {\em nparam} & The number of parameters (may not be used if model has a fixed parameter number) \\
\hline
\end{DoxyParams}
\hypertarget{_ecf_8h_ac180a3ee448f5962b0f0af64fe809e3d}{\index{Ecf.\-h@{Ecf.\-h}!G\-C\-I\-\_\-multiexp\-\_\-tau@{G\-C\-I\-\_\-multiexp\-\_\-tau}}
\index{G\-C\-I\-\_\-multiexp\-\_\-tau@{G\-C\-I\-\_\-multiexp\-\_\-tau}!Ecf.h@{Ecf.\-h}}
\subsubsection[{G\-C\-I\-\_\-multiexp\-\_\-tau}]{\setlength{\rightskip}{0pt plus 5cm}void G\-C\-I\-\_\-multiexp\-\_\-tau (
\begin{DoxyParamCaption}
\item[{float}]{x, }
\item[{float}]{param\mbox{[}$\,$\mbox{]}, }
\item[{float $\ast$}]{y, }
\item[{float}]{dy\-\_\-dparam\mbox{[}$\,$\mbox{]}, }
\item[{int}]{nparam}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_ac180a3ee448f5962b0f0af64fe809e3d}


multi-\/exp predefined fitting model based on lifetimes (taus). 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em x} & The x value to evaluate the function at. \\
\hline
\mbox{\tt in}  & {\em param\mbox{[}$\,$\mbox{]}} & Array containing the parameters to use in the evaluation. \\
\hline
\mbox{\tt out}  & {\em y} & The value of the function at the x value. \\
\hline
\mbox{\tt out}  & {\em dy\-\_\-dparam} & Array of dy/dparam values at this point \\
\hline
\mbox{\tt in}  & {\em nparam} & The number of parameters (may not be used if model has a fixed parameter number) \\
\hline
\end{DoxyParams}
\hypertarget{_ecf_8h_a6bdc3c1da7c48ac0dac24ad0192be828}{\index{Ecf.\-h@{Ecf.\-h}!G\-C\-I\-\_\-set\-\_\-restrain\-\_\-limits@{G\-C\-I\-\_\-set\-\_\-restrain\-\_\-limits}}
\index{G\-C\-I\-\_\-set\-\_\-restrain\-\_\-limits@{G\-C\-I\-\_\-set\-\_\-restrain\-\_\-limits}!Ecf.h@{Ecf.\-h}}
\subsubsection[{G\-C\-I\-\_\-set\-\_\-restrain\-\_\-limits}]{\setlength{\rightskip}{0pt plus 5cm}int G\-C\-I\-\_\-set\-\_\-restrain\-\_\-limits (
\begin{DoxyParamCaption}
\item[{int}]{nparam, }
\item[{int}]{restrain\mbox{[}$\,$\mbox{]}, }
\item[{float}]{minval\mbox{[}$\,$\mbox{]}, }
\item[{float}]{maxval\mbox{[}$\,$\mbox{]}}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_a6bdc3c1da7c48ac0dac24ad0192be828}


Setting restraints. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em nparam} & The number of parameters. \\
\hline
\mbox{\tt in}  & {\em restrain} & Array indicating which parameters to restrain (set non-\/zero to restrain). \\
\hline
\mbox{\tt in}  & {\em minval} & Array of minimum values for each parameter (only those for the restrained parameters set by the restrain array are used). \\
\hline
\mbox{\tt in}  & {\em maxval} & Array of maximum values for each parameter (only those for the restrained parameters set by the restrain array are used). \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error code, 0 = success. 
\end{DoxyReturn}
\hypertarget{_ecf_8h_ae1168eba7dd501dd4427c436d6351d1d}{\index{Ecf.\-h@{Ecf.\-h}!G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt@{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt}}
\index{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt@{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt}!Ecf.h@{Ecf.\-h}}
\subsubsection[{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt}]{\setlength{\rightskip}{0pt plus 5cm}int G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt (
\begin{DoxyParamCaption}
\item[{float}]{x\mbox{[}$\,$\mbox{]}, }
\item[{float}]{y\mbox{[}$\,$\mbox{]}, }
\item[{int}]{ndata, }
\item[{{\bf noise\-\_\-type}}]{noise, }
\item[{float}]{sig\mbox{[}$\,$\mbox{]}, }
\item[{float}]{param\mbox{[}$\,$\mbox{]}, }
\item[{int}]{paramfree\mbox{[}$\,$\mbox{]}, }
\item[{int}]{nparam, }
\item[{{\bf restrain\-\_\-type}}]{restrain, }
\item[{float}]{chisq\-\_\-delta, }
\item[{void($\ast$)(float, float\mbox{[}$\,$\mbox{]}, float $\ast$, float\mbox{[}$\,$\mbox{]}, int)}]{fitfunc, }
\item[{int}]{spa\-\_\-param, }
\item[{int}]{spa\-\_\-nvalues, }
\item[{float}]{spa\-\_\-low, }
\item[{float}]{spa\-\_\-high, }
\item[{float}]{chisq\mbox{[}$\,$\mbox{]}, }
\item[{void($\ast$)(float)}]{progressfunc}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_ae1168eba7dd501dd4427c436d6351d1d}


Support plane analysis. 

This fucntion will perform a number of fits with one fixed parameter that varies between the spa\-\_\-low and spa\-\_\-high values. The array of chisq values is returned that forms the 'support plane'.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em x} & The x or time values at which the y data points are provided. \\
\hline
\mbox{\tt in}  & {\em y} & The transient (time resolved) signal to be analysed, the 'data'. \\
\hline
\mbox{\tt in}  & {\em ndata} & The number of data points. \\
\hline
\mbox{\tt in}  & {\em noise} & The \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} to be used. \\
\hline
\mbox{\tt in}  & {\em sig} & The standard deviation at each data point in y if \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} N\-O\-I\-S\-E\-\_\-\-G\-I\-V\-E\-N is used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in,out}  & {\em param} & An array of parameters, the order of which must match fitfunc. Provide parameter estimates, these are overridden with the fitted values. \\
\hline
\mbox{\tt in}  & {\em paramfree} & An array indicating which parameters are free (1), fixed (0). \\
\hline
\mbox{\tt in}  & {\em nparam} & The number of parameters. \\
\hline
\mbox{\tt in}  & {\em restrain} & Parameter \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type}. Normally use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-D\-E\-F\-A\-U\-L\-T. Use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-U\-S\-E\-R if restraining parameters has been setup via G\-C\-I\-\_\-set\-\_\-restrain\-\_\-limits. \\
\hline
\mbox{\tt in}  & {\em chisq\-\_\-delta} & An individual fit will continue if the chisq value changes by more then this amount. Try 1\-E-\/5. (T\-R\-I2\-: \char`\"{}\-Stopping Criterion\char`\"{}) \\
\hline
\mbox{\tt in}  & {\em fitfunc} & Encodes the function to fit to the data, e.\-g. \hyperlink{_ecf_8h_ac180a3ee448f5962b0f0af64fe809e3d}{G\-C\-I\-\_\-multiexp\-\_\-tau}. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-param} & The index to the param we are analysing with spa. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-nvalues} & The number of values of the parameter we are to calculate the chisq value for. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-low} & The lowest parameter value to use. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-high} & The highest parameter value to use. \\
\hline
\mbox{\tt out}  & {\em chisq} & An array of resulting raw chi squared values. To get the reduced chisq, divide by the degrees of freedom (fit\-\_\-start -\/ fit\-\_\-end -\/ nparam) \\
\hline
\mbox{\tt in}  & {\em progressfunc} & A pointer to a function that may provide some feedback to the user on progress. A number between 0 and 1 is sent to this function after each iteration. (optional\-: may by N\-U\-L\-L) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error code, 0 = success.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{_ecf_8h_a1b39dab2b8a463ca924475c8633696e2}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt} 

\hyperlink{_ecf_8h_a9e3f8e4749667b5b5f1720d73ce50763}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-instr} 

\hyperlink{_ecf_8h_aaff4047b469c3733f1a96002c5245b24}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-instr} 
\end{DoxySeeAlso}
\hypertarget{_ecf_8h_a453a6f925407eca916460aceb57c77cb}{\index{Ecf.\-h@{Ecf.\-h}!G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr@{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr}}
\index{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr@{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr}!Ecf.h@{Ecf.\-h}}
\subsubsection[{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr}]{\setlength{\rightskip}{0pt plus 5cm}int G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr (
\begin{DoxyParamCaption}
\item[{float}]{xincr, }
\item[{float $\ast$$\ast$}]{trans, }
\item[{int}]{ndata, }
\item[{int}]{ntrans, }
\item[{int}]{fit\-\_\-start, }
\item[{int}]{fit\-\_\-end, }
\item[{float}]{instr\mbox{[}$\,$\mbox{]}, }
\item[{int}]{ninstr, }
\item[{{\bf noise\-\_\-type}}]{noise, }
\item[{float}]{sig\mbox{[}$\,$\mbox{]}, }
\item[{int}]{ftype, }
\item[{float $\ast$$\ast$}]{param, }
\item[{int}]{paramfree\mbox{[}$\,$\mbox{]}, }
\item[{int}]{nparam, }
\item[{{\bf restrain\-\_\-type}}]{restrain, }
\item[{float}]{chisq\-\_\-delta, }
\item[{int}]{drop\-\_\-bad\-\_\-transients, }
\item[{int}]{spa\-\_\-param, }
\item[{int}]{spa\-\_\-nvalues, }
\item[{float}]{spa\-\_\-low, }
\item[{float}]{spa\-\_\-high, }
\item[{float}]{chisq\-\_\-global\mbox{[}$\,$\mbox{]}, }
\item[{int}]{df\mbox{[}$\,$\mbox{]}, }
\item[{void($\ast$)(float)}]{progressfunc}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_a453a6f925407eca916460aceb57c77cb}


Support plane analysis for exponential global analysis with instrument response (prompt or I\-R\-F). 

This fucntion will perform a number of fits with one fixed parameter that varies between the spa\-\_\-low and spa\-\_\-high values. The array of chisq values is returned that forms the 'support plane'.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em xincr} & The time increment in between the values in the y array. \\
\hline
\mbox{\tt in}  & {\em trans} & A pointer to a matrix of transient (time resolved) signals to be analysed, the 'data'. Allocate with \hyperlink{_ecf_8h_a2ad195c79ea0a1f4f1065d0ca2e9023e}{G\-C\-I\-\_\-ecf\-\_\-matrix}. \\
\hline
\mbox{\tt in}  & {\em ndata} & The number of data points. \\
\hline
\mbox{\tt in}  & {\em ntrans} & The number of transient signals (pixels in a time resolved image). \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-start} & The index into the y array marking the start to the data to be used in the fit. Some data before this start index is required for convolution with the prompt. \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-end} & The index into the y array marking the end of the data to be used in the fit. \\
\hline
\mbox{\tt in}  & {\em instr} & The instrument response (I\-R\-F) or prompt signal to be used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em ninstr} & The number of data points in the prompt (ignored if prompt = N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em noise} & The \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} to be used. \\
\hline
\mbox{\tt in}  & {\em sig} & The standard deviation at each data point in y if \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} N\-O\-I\-S\-E\-\_\-\-G\-I\-V\-E\-N is used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em ftype} & The type of function to fit can be multi-\/exponential (F\-I\-T\-\_\-\-G\-L\-O\-B\-A\-L\-\_\-\-M\-U\-L\-T\-I\-E\-X\-P) or stretched exponential (F\-I\-T\-\_\-\-G\-L\-O\-B\-A\-L\-\_\-\-S\-T\-R\-E\-T\-C\-H\-E\-D\-E\-X\-P). For other fitting functions use the global generic function. \\
\hline
\mbox{\tt in,out}  & {\em param} & A pointer to an array of parameter arrays, the order of which must match fitfunc. \\
\hline
\mbox{\tt in}  & {\em paramfree} & An array indicating which parameters are free (1), fixed (0). \\
\hline
\mbox{\tt in}  & {\em nparam} & The number of parameters. \\
\hline
\mbox{\tt in}  & {\em restrain} & Parameter \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type}. Normally use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-D\-E\-F\-A\-U\-L\-T. Use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-U\-S\-E\-R if restraining parameters has been setup via G\-C\-I\-\_\-set\-\_\-restrain\-\_\-limits. \\
\hline
\mbox{\tt in}  & {\em chisq\-\_\-delta} & An individual fit will continue if the chisq value changes by more then this amount. Try 1\-E-\/5. (T\-R\-I2\-: \char`\"{}\-Stopping Criterion\char`\"{}) \\
\hline
\mbox{\tt in}  & {\em drop\-\_\-bad\-\_\-transients} & Remove individual transients from the fit that have a -\/ve return value from G\-C\-I\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-do\-\_\-fit\-\_\-single (default = 1) \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-param} & The index to the param we are analysing with spa. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-nvalues} & The number of values of the parameter we are to calculate the chisq value for. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-low} & The lowest parameter value to use. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-high} & The highest parameter value to use. \\
\hline
\mbox{\tt out}  & {\em chisq\-\_\-global} & The resulting array of raw chi squared values of the total global fit. To get the reduced chisq, divide by the degrees of freedom df. \\
\hline
\mbox{\tt out}  & {\em df} & The degrees of freedom. \\
\hline
\mbox{\tt in}  & {\em progressfunc} & A pointer to a function that may provide some feedback to the user on progress. A number between 0 and 1 is sent to this function after each iteration. (optional\-: may by N\-U\-L\-L) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error code, 0 = success. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{_ecf_8h_ad8c7cdbe73b7ec002bd6e8ac431b9d3e}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr} 

\hyperlink{_ecf_8h_a3061b9b85996dba7b3342592671a3733}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr} 

\hyperlink{_ecf_8h_a7179d4f6287c800aa0a0cf229a8f1634}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr} 
\end{DoxySeeAlso}
\hypertarget{_ecf_8h_a3061b9b85996dba7b3342592671a3733}{\index{Ecf.\-h@{Ecf.\-h}!G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr@{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr}}
\index{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr@{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr}!Ecf.h@{Ecf.\-h}}
\subsubsection[{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr}]{\setlength{\rightskip}{0pt plus 5cm}int G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr (
\begin{DoxyParamCaption}
\item[{float}]{xincr, }
\item[{float $\ast$$\ast$}]{trans, }
\item[{int}]{ndata, }
\item[{int}]{ntrans, }
\item[{int}]{fit\-\_\-start, }
\item[{int}]{fit\-\_\-end, }
\item[{float}]{instr\mbox{[}$\,$\mbox{]}, }
\item[{int}]{ninstr, }
\item[{{\bf noise\-\_\-type}}]{noise, }
\item[{float}]{sig\mbox{[}$\,$\mbox{]}, }
\item[{float $\ast$$\ast$}]{param, }
\item[{int}]{paramfree\mbox{[}$\,$\mbox{]}, }
\item[{int}]{nparam, }
\item[{int}]{gparam\mbox{[}$\,$\mbox{]}, }
\item[{{\bf restrain\-\_\-type}}]{restrain, }
\item[{float}]{chisq\-\_\-delta, }
\item[{void($\ast$)(float, float\mbox{[}$\,$\mbox{]}, float $\ast$, float\mbox{[}$\,$\mbox{]}, int)}]{fitfunc, }
\item[{int}]{spa\-\_\-param, }
\item[{int}]{spa\-\_\-nvalues, }
\item[{float}]{spa\-\_\-low, }
\item[{float}]{spa\-\_\-high, }
\item[{float}]{chisq\-\_\-global\mbox{[}$\,$\mbox{]}, }
\item[{int}]{df\mbox{[}$\,$\mbox{]}, }
\item[{void($\ast$)(float)}]{progressfunc}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_a3061b9b85996dba7b3342592671a3733}


Support plane analysis for generic global analysis with instrument response (prompt or I\-R\-F). 

This fucntion will perform a number of fits with one fixed parameter that varies between the spa\-\_\-low and spa\-\_\-high values. The array of chisq values is returned that forms the 'support plane'.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em xincr} & The time increment in between the values in the y array. \\
\hline
\mbox{\tt in}  & {\em trans} & A pointer to a matrix of transient (time resolved) signals to be analysed, the 'data'. Allocate with \hyperlink{_ecf_8h_a2ad195c79ea0a1f4f1065d0ca2e9023e}{G\-C\-I\-\_\-ecf\-\_\-matrix}. \\
\hline
\mbox{\tt in}  & {\em ndata} & The number of data points. \\
\hline
\mbox{\tt in}  & {\em ntrans} & The number of transient signals (pixels in a time resolved image). \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-start} & The index into the y array marking the start to the data to be used in the fit. Some data before this start index is required for convolution with the prompt. \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-end} & The index into the y array marking the end of the data to be used in the fit. \\
\hline
\mbox{\tt in}  & {\em instr} & The instrument response (I\-R\-F) or prompt signal to be used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em ninstr} & The number of data points in the prompt (ignored if prompt = N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em noise} & The \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} to be used. \\
\hline
\mbox{\tt in}  & {\em sig} & The standard deviation at each data point in y if \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} N\-O\-I\-S\-E\-\_\-\-G\-I\-V\-E\-N is used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in,out}  & {\em param} & A pointer to an array of parameter arrays, the order of which must match fitfunc. \\
\hline
\mbox{\tt in}  & {\em paramfree} & An array indicating which parameters are free (1), fixed (0). \\
\hline
\mbox{\tt in}  & {\em nparam} & The number of parameters. \\
\hline
\mbox{\tt in}  & {\em gparam} & An array marking which parameters are to be globally determined. \\
\hline
\mbox{\tt in}  & {\em restrain} & Parameter \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type}. Normally use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-D\-E\-F\-A\-U\-L\-T. Use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-U\-S\-E\-R if restraining parameters has been setup via G\-C\-I\-\_\-set\-\_\-restrain\-\_\-limits. \\
\hline
\mbox{\tt in}  & {\em chisq\-\_\-delta} & An individual fit will continue if the chisq value changes by more then this amount. Try 1\-E-\/5. (T\-R\-I2\-: \char`\"{}\-Stopping Criterion\char`\"{}) \\
\hline
\mbox{\tt in}  & {\em fitfunc} & Encodes the function to fit to the data, e.\-g. \hyperlink{_ecf_8h_ac180a3ee448f5962b0f0af64fe809e3d}{G\-C\-I\-\_\-multiexp\-\_\-tau}. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-param} & The index to the param we are analysing with spa. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-nvalues} & The number of values of the parameter we are to calculate the chisq value for. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-low} & The lowest parameter value to use. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-high} & The highest parameter value to use. \\
\hline
\mbox{\tt out}  & {\em chisq\-\_\-global} & The resulting array of raw chi squared values of the total global fit. To get the reduced chisq, divide by the degrees of freedom df. \\
\hline
\mbox{\tt out}  & {\em df} & The degrees of freedom. \\
\hline
\mbox{\tt in}  & {\em progressfunc} & A pointer to a function that may provide some feedback to the user on progress. A number between 0 and 1 is sent to this function after each iteration. (optional\-: may by N\-U\-L\-L) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error code, 0 = success. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{_ecf_8h_a453a6f925407eca916460aceb57c77cb}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr} 

\hyperlink{_ecf_8h_ad8c7cdbe73b7ec002bd6e8ac431b9d3e}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr} 

\hyperlink{_ecf_8h_a7179d4f6287c800aa0a0cf229a8f1634}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr} 
\end{DoxySeeAlso}
\hypertarget{_ecf_8h_a9e3f8e4749667b5b5f1720d73ce50763}{\index{Ecf.\-h@{Ecf.\-h}!G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-instr@{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-instr}}
\index{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-instr@{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-instr}!Ecf.h@{Ecf.\-h}}
\subsubsection[{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-instr}]{\setlength{\rightskip}{0pt plus 5cm}int G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-instr (
\begin{DoxyParamCaption}
\item[{float}]{xincr, }
\item[{float}]{y\mbox{[}$\,$\mbox{]}, }
\item[{int}]{ndata, }
\item[{int}]{fit\-\_\-start, }
\item[{int}]{fit\-\_\-end, }
\item[{float}]{instr\mbox{[}$\,$\mbox{]}, }
\item[{int}]{ninstr, }
\item[{{\bf noise\-\_\-type}}]{noise, }
\item[{float}]{sig\mbox{[}$\,$\mbox{]}, }
\item[{float}]{param\mbox{[}$\,$\mbox{]}, }
\item[{int}]{paramfree\mbox{[}$\,$\mbox{]}, }
\item[{int}]{nparam, }
\item[{{\bf restrain\-\_\-type}}]{restrain, }
\item[{float}]{chisq\-\_\-delta, }
\item[{void($\ast$)(float, float\mbox{[}$\,$\mbox{]}, float $\ast$, float\mbox{[}$\,$\mbox{]}, int)}]{fitfunc, }
\item[{int}]{spa\-\_\-param, }
\item[{int}]{spa\-\_\-nvalues, }
\item[{float}]{spa\-\_\-low, }
\item[{float}]{spa\-\_\-high, }
\item[{float}]{chisq\mbox{[}$\,$\mbox{]}, }
\item[{float}]{chisq\-\_\-target, }
\item[{void($\ast$)(float)}]{progressfunc}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_a9e3f8e4749667b5b5f1720d73ce50763}


Support plane analysis with instrument response (prompt or I\-R\-F). 

This fucntion will perform a number of fits with one fixed parameter that varies between the spa\-\_\-low and spa\-\_\-high values. The array of chisq values is returned that forms the 'support plane'.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em xincr} & The time increment in between the values in the y array. \\
\hline
\mbox{\tt in}  & {\em y} & The transient (time resolved) signal to be analysed, the 'data'. \\
\hline
\mbox{\tt in}  & {\em ndata} & The number of data points. \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-start} & The index into the y array marking the start to the data to be used in the fit. Some data before this start index is required for convolution with the prompt. \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-end} & The index into the y array marking the end of the data to be used in the fit. \\
\hline
\mbox{\tt in}  & {\em instr} & The instrument response (I\-R\-F) or prompt signal to be used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em ninstr} & The number of data points in the prompt (ignored if prompt = N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em noise} & The \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} to be used. \\
\hline
\mbox{\tt in}  & {\em sig} & The standard deviation at each data point in y if \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} N\-O\-I\-S\-E\-\_\-\-G\-I\-V\-E\-N is used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in,out}  & {\em param} & An array of parameters, the order of which must match fitfunc. Provide parameter estimates, these are overridden with the fitted values. \\
\hline
\mbox{\tt in}  & {\em paramfree} & An array indicating which parameters are free (1), fixed (0). \\
\hline
\mbox{\tt in}  & {\em nparam} & The number of parameters. \\
\hline
\mbox{\tt in}  & {\em restrain} & Parameter \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type}. Normally use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-D\-E\-F\-A\-U\-L\-T. Use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-U\-S\-E\-R if restraining parameters has been setup via G\-C\-I\-\_\-set\-\_\-restrain\-\_\-limits. \\
\hline
\mbox{\tt in}  & {\em chisq\-\_\-delta} & An individual fit will continue if the chisq value changes by more then this amount. Try 1\-E-\/5. (T\-R\-I2\-: \char`\"{}\-Stopping Criterion\char`\"{}) \\
\hline
\mbox{\tt in}  & {\em fitfunc} & Encodes the function to fit to the data, e.\-g. \hyperlink{_ecf_8h_ac180a3ee448f5962b0f0af64fe809e3d}{G\-C\-I\-\_\-multiexp\-\_\-tau}. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-param} & The index to the param we are analysing with spa. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-nvalues} & The number of values of the parameter we are to calculate the chisq value for. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-low} & The lowest parameter value to use. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-high} & The highest parameter value to use. \\
\hline
\mbox{\tt out}  & {\em chisq} & An array of resulting raw chi squared values. To get the reduced chisq, divide by the degrees of freedom (fit\-\_\-start -\/ fit\-\_\-end -\/ nparam) \\
\hline
\mbox{\tt in}  & {\em chisq\-\_\-target} & A raw chi squared value to aim for. If this value is reached fitting will stop. If you want to aim for a reduced chisq (say 1.\-1 or 1.\-0) you must multiply by the degree of freedom. (T\-R\-I2\-: \char`\"{}\-Try refits\char`\"{}) \\
\hline
\mbox{\tt in}  & {\em progressfunc} & A pointer to a function that may provide some feedback to the user on progress. A number between 0 and 1 is sent to this function after each iteration. (optional\-: may by N\-U\-L\-L) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error code, 0 = success.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{_ecf_8h_ae1168eba7dd501dd4427c436d6351d1d}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt} 

\hyperlink{_ecf_8h_a1b39dab2b8a463ca924475c8633696e2}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt} 

\hyperlink{_ecf_8h_aaff4047b469c3733f1a96002c5245b24}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-instr} 
\end{DoxySeeAlso}
\hypertarget{_ecf_8h_a1b39dab2b8a463ca924475c8633696e2}{\index{Ecf.\-h@{Ecf.\-h}!G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt@{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt}}
\index{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt@{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt}!Ecf.h@{Ecf.\-h}}
\subsubsection[{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt}]{\setlength{\rightskip}{0pt plus 5cm}int G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt (
\begin{DoxyParamCaption}
\item[{float}]{x\mbox{[}$\,$\mbox{]}, }
\item[{float}]{y\mbox{[}$\,$\mbox{]}, }
\item[{int}]{ndata, }
\item[{{\bf noise\-\_\-type}}]{noise, }
\item[{float}]{sig\mbox{[}$\,$\mbox{]}, }
\item[{float}]{param\mbox{[}$\,$\mbox{]}, }
\item[{int}]{paramfree\mbox{[}$\,$\mbox{]}, }
\item[{int}]{nparam, }
\item[{{\bf restrain\-\_\-type}}]{restrain, }
\item[{float}]{chisq\-\_\-delta, }
\item[{void($\ast$)(float, float\mbox{[}$\,$\mbox{]}, float $\ast$, float\mbox{[}$\,$\mbox{]}, int)}]{fitfunc, }
\item[{int}]{spa\-\_\-param1, }
\item[{int}]{spa\-\_\-nvalues1, }
\item[{float}]{spa\-\_\-low1, }
\item[{float}]{spa\-\_\-high1, }
\item[{int}]{spa\-\_\-param2, }
\item[{int}]{spa\-\_\-nvalues2, }
\item[{float}]{spa\-\_\-low2, }
\item[{float}]{spa\-\_\-high2, }
\item[{float $\ast$$\ast$}]{chisq, }
\item[{void($\ast$)(float)}]{progressfunc}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_a1b39dab2b8a463ca924475c8633696e2}


Support plane analysis for 2 parameters. 

This fucntion will perform a number of fits with two fixed parameters that vary between the spa\-\_\-low and spa\-\_\-high values. The array of chisq values is returned that forms the 'support plane'.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em x} & The x or time values at which the y data points are provided. \\
\hline
\mbox{\tt in}  & {\em y} & The transient (time resolved) signal to be analysed, the 'data'. \\
\hline
\mbox{\tt in}  & {\em ndata} & The number of data points. \\
\hline
\mbox{\tt in}  & {\em noise} & The \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} to be used. \\
\hline
\mbox{\tt in}  & {\em sig} & The standard deviation at each data point in y if \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} N\-O\-I\-S\-E\-\_\-\-G\-I\-V\-E\-N is used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in,out}  & {\em param} & An array of parameters, the order of which must match fitfunc. Provide parameter estimates, these are overridden with the fitted values. \\
\hline
\mbox{\tt in}  & {\em paramfree} & An array indicating which parameters are free (1), fixed (0). \\
\hline
\mbox{\tt in}  & {\em nparam} & The number of parameters. \\
\hline
\mbox{\tt in}  & {\em restrain} & Parameter \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type}. Normally use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-D\-E\-F\-A\-U\-L\-T. Use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-U\-S\-E\-R if restraining parameters has been setup via G\-C\-I\-\_\-set\-\_\-restrain\-\_\-limits. \\
\hline
\mbox{\tt in}  & {\em chisq\-\_\-delta} & An individual fit will continue if the chisq value changes by more then this amount. Try 1\-E-\/5. (T\-R\-I2\-: \char`\"{}\-Stopping Criterion\char`\"{}) \\
\hline
\mbox{\tt in}  & {\em fitfunc} & Encodes the function to fit to the data, e.\-g. \hyperlink{_ecf_8h_ac180a3ee448f5962b0f0af64fe809e3d}{G\-C\-I\-\_\-multiexp\-\_\-tau}. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-param1} & The index to first param we are analysing with spa. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-nvalues1} & The number of values of first parameter we are to calculate the chisq value for. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-low1} & The lowest first parameter value to use. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-high1} & The highest first parameter value to use. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-param2} & The index to second param we are analysing with spa. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-nvalues2} & The number of values of second parameter we are to calculate the chisq value for. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-low2} & The lowest second parameter value to use. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-high2} & The highest second parameter value to use. \\
\hline
\mbox{\tt out}  & {\em chisq} & An matrix of resulting raw chi squared values. To get the reduced chisq, divide by the degrees of freedom (fit\-\_\-start -\/ fit\-\_\-end -\/ nparam), Allocate with chisq = (float $\ast$$\ast$)malloc \\
\hline
\mbox{\tt in}  & {\em progressfunc} & A pointer to a function that may provide some feedback to the user on progress. A number between 0 and 1 is sent to this function after each iteration. (optional\-: may by N\-U\-L\-L) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error code, 0 = success.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{_ecf_8h_ae1168eba7dd501dd4427c436d6351d1d}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt} 

\hyperlink{_ecf_8h_a9e3f8e4749667b5b5f1720d73ce50763}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-instr} 

\hyperlink{_ecf_8h_aaff4047b469c3733f1a96002c5245b24}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-instr} 
\end{DoxySeeAlso}
\hypertarget{_ecf_8h_ad8c7cdbe73b7ec002bd6e8ac431b9d3e}{\index{Ecf.\-h@{Ecf.\-h}!G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr@{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr}}
\index{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr@{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr}!Ecf.h@{Ecf.\-h}}
\subsubsection[{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr}]{\setlength{\rightskip}{0pt plus 5cm}int G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr (
\begin{DoxyParamCaption}
\item[{float}]{xincr, }
\item[{float $\ast$$\ast$}]{trans, }
\item[{int}]{ndata, }
\item[{int}]{ntrans, }
\item[{int}]{fit\-\_\-start, }
\item[{int}]{fit\-\_\-end, }
\item[{float}]{instr\mbox{[}$\,$\mbox{]}, }
\item[{int}]{ninstr, }
\item[{{\bf noise\-\_\-type}}]{noise, }
\item[{float}]{sig\mbox{[}$\,$\mbox{]}, }
\item[{int}]{ftype, }
\item[{float $\ast$$\ast$}]{param, }
\item[{int}]{paramfree\mbox{[}$\,$\mbox{]}, }
\item[{int}]{nparam, }
\item[{{\bf restrain\-\_\-type}}]{restrain, }
\item[{float}]{chisq\-\_\-delta, }
\item[{int}]{drop\-\_\-bad\-\_\-transients, }
\item[{int}]{spa\-\_\-param1, }
\item[{int}]{spa\-\_\-nvalues1, }
\item[{float}]{spa\-\_\-low1, }
\item[{float}]{spa\-\_\-high1, }
\item[{int}]{spa\-\_\-param2, }
\item[{int}]{spa\-\_\-nvalues2, }
\item[{float}]{spa\-\_\-low2, }
\item[{float}]{spa\-\_\-high2, }
\item[{float $\ast$$\ast$}]{chisq\-\_\-global, }
\item[{int $\ast$$\ast$}]{df, }
\item[{void($\ast$)(float)}]{progressfunc}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_ad8c7cdbe73b7ec002bd6e8ac431b9d3e}


Support plane analysis for exponential global with 2 parameters with instrument response (prompt or I\-R\-F). 

This fucntion will perform a number of fits with two fixed parameters that vary between the spa\-\_\-low and spa\-\_\-high values. The array of chisq values is returned that forms the 'support plane'.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em xincr} & The time increment in between the values in the y array. \\
\hline
\mbox{\tt in}  & {\em trans} & A pointer to a matrix of transient (time resolved) signals to be analysed, the 'data'. Allocate with \hyperlink{_ecf_8h_a2ad195c79ea0a1f4f1065d0ca2e9023e}{G\-C\-I\-\_\-ecf\-\_\-matrix}. \\
\hline
\mbox{\tt in}  & {\em ndata} & The number of data points. \\
\hline
\mbox{\tt in}  & {\em ntrans} & The number of transient signals (pixels in a time resolved image). \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-start} & The index into the y array marking the start to the data to be used in the fit. Some data before this start index is required for convolution with the prompt. \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-end} & The index into the y array marking the end of the data to be used in the fit. \\
\hline
\mbox{\tt in}  & {\em instr} & The instrument response (I\-R\-F) or prompt signal to be used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em ninstr} & The number of data points in the prompt (ignored if prompt = N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em noise} & The \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} to be used. \\
\hline
\mbox{\tt in}  & {\em sig} & The standard deviation at each data point in y if \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} N\-O\-I\-S\-E\-\_\-\-G\-I\-V\-E\-N is used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em ftype} & The type of function to fit can be multi-\/exponential (F\-I\-T\-\_\-\-G\-L\-O\-B\-A\-L\-\_\-\-M\-U\-L\-T\-I\-E\-X\-P) or stretched exponential (F\-I\-T\-\_\-\-G\-L\-O\-B\-A\-L\-\_\-\-S\-T\-R\-E\-T\-C\-H\-E\-D\-E\-X\-P). For other fitting functions use the global generic function. \\
\hline
\mbox{\tt in,out}  & {\em param} & A pointer to an array of parameter arrays, the order of which must match fitfunc. \\
\hline
\mbox{\tt in}  & {\em paramfree} & An array indicating which parameters are free (1), fixed (0). \\
\hline
\mbox{\tt in}  & {\em nparam} & The number of parameters. \\
\hline
\mbox{\tt in}  & {\em restrain} & Parameter \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type}. Normally use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-D\-E\-F\-A\-U\-L\-T. Use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-U\-S\-E\-R if restraining parameters has been setup via G\-C\-I\-\_\-set\-\_\-restrain\-\_\-limits. \\
\hline
\mbox{\tt in}  & {\em chisq\-\_\-delta} & An individual fit will continue if the chisq value changes by more then this amount. Try 1\-E-\/5. (T\-R\-I2\-: \char`\"{}\-Stopping Criterion\char`\"{}) \\
\hline
\mbox{\tt in}  & {\em drop\-\_\-bad\-\_\-transients} & Remove individual transients from the fit that have a -\/ve return value from G\-C\-I\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-do\-\_\-fit\-\_\-single (default = 1) \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-param1} & The index to first param we are analysing with spa. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-nvalues1} & The number of values of first parameter we are to calculate the chisq value for. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-low1} & The lowest first parameter value to use. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-high1} & The highest first parameter value to use. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-param2} & The index to second param we are analysing with spa. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-nvalues2} & The number of values of second parameter we are to calculate the chisq value for. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-low2} & The lowest second parameter value to use. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-high2} & The highest second parameter value to use. \\
\hline
\mbox{\tt out}  & {\em chisq\-\_\-global} & The resulting array of raw chi squared values of the total global fit. To get the reduced chisq, divide by the degrees of freedom df. \\
\hline
\mbox{\tt out}  & {\em df} & The degrees of freedom. \\
\hline
\mbox{\tt in}  & {\em progressfunc} & A pointer to a function that may provide some feedback to the user on progress. A number between 0 and 1 is sent to this function after each iteration. (optional\-: may by N\-U\-L\-L) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error code, 0 = success. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{_ecf_8h_a453a6f925407eca916460aceb57c77cb}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr} 

\hyperlink{_ecf_8h_a3061b9b85996dba7b3342592671a3733}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr} 

\hyperlink{_ecf_8h_a7179d4f6287c800aa0a0cf229a8f1634}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr} 
\end{DoxySeeAlso}
\hypertarget{_ecf_8h_a7179d4f6287c800aa0a0cf229a8f1634}{\index{Ecf.\-h@{Ecf.\-h}!G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr@{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr}}
\index{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr@{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr}!Ecf.h@{Ecf.\-h}}
\subsubsection[{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr}]{\setlength{\rightskip}{0pt plus 5cm}int G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr (
\begin{DoxyParamCaption}
\item[{float}]{xincr, }
\item[{float $\ast$$\ast$}]{trans, }
\item[{int}]{ndata, }
\item[{int}]{ntrans, }
\item[{int}]{fit\-\_\-start, }
\item[{int}]{fit\-\_\-end, }
\item[{float}]{instr\mbox{[}$\,$\mbox{]}, }
\item[{int}]{ninstr, }
\item[{{\bf noise\-\_\-type}}]{noise, }
\item[{float}]{sig\mbox{[}$\,$\mbox{]}, }
\item[{float $\ast$$\ast$}]{param, }
\item[{int}]{paramfree\mbox{[}$\,$\mbox{]}, }
\item[{int}]{nparam, }
\item[{int}]{gparam\mbox{[}$\,$\mbox{]}, }
\item[{{\bf restrain\-\_\-type}}]{restrain, }
\item[{float}]{chisq\-\_\-delta, }
\item[{void($\ast$)(float, float\mbox{[}$\,$\mbox{]}, float $\ast$, float\mbox{[}$\,$\mbox{]}, int)}]{fitfunc, }
\item[{int}]{spa\-\_\-param1, }
\item[{int}]{spa\-\_\-nvalues1, }
\item[{float}]{spa\-\_\-low1, }
\item[{float}]{spa\-\_\-high1, }
\item[{int}]{spa\-\_\-param2, }
\item[{int}]{spa\-\_\-nvalues2, }
\item[{float}]{spa\-\_\-low2, }
\item[{float}]{spa\-\_\-high2, }
\item[{float $\ast$$\ast$}]{chisq\-\_\-global, }
\item[{int $\ast$$\ast$}]{df, }
\item[{void($\ast$)(float)}]{progressfunc}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_a7179d4f6287c800aa0a0cf229a8f1634}


Support plane analysis for generic global with 2 parameters with instrument response (prompt or I\-R\-F). 

This fucntion will perform a number of fits with two fixed parameters that vary between the spa\-\_\-low and spa\-\_\-high values. The array of chisq values is returned that forms the 'support plane'.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em xincr} & The time increment in between the values in the y array. \\
\hline
\mbox{\tt in}  & {\em trans} & A pointer to a matrix of transient (time resolved) signals to be analysed, the 'data'. Allocate with \hyperlink{_ecf_8h_a2ad195c79ea0a1f4f1065d0ca2e9023e}{G\-C\-I\-\_\-ecf\-\_\-matrix}. \\
\hline
\mbox{\tt in}  & {\em ndata} & The number of data points. \\
\hline
\mbox{\tt in}  & {\em ntrans} & The number of transient signals (pixels in a time resolved image). \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-start} & The index into the y array marking the start to the data to be used in the fit. Some data before this start index is required for convolution with the prompt. \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-end} & The index into the y array marking the end of the data to be used in the fit. \\
\hline
\mbox{\tt in}  & {\em instr} & The instrument response (I\-R\-F) or prompt signal to be used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em ninstr} & The number of data points in the prompt (ignored if prompt = N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em noise} & The \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} to be used. \\
\hline
\mbox{\tt in}  & {\em sig} & The standard deviation at each data point in y if \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} N\-O\-I\-S\-E\-\_\-\-G\-I\-V\-E\-N is used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in,out}  & {\em param} & A pointer to an array of parameter arrays, the order of which must match fitfunc. \\
\hline
\mbox{\tt in}  & {\em paramfree} & An array indicating which parameters are free (1), fixed (0). \\
\hline
\mbox{\tt in}  & {\em nparam} & The number of parameters. \\
\hline
\mbox{\tt in}  & {\em gparam} & An array marking which parameters are to be globally determined. \\
\hline
\mbox{\tt in}  & {\em restrain} & Parameter \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type}. Normally use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-D\-E\-F\-A\-U\-L\-T. Use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-U\-S\-E\-R if restraining parameters has been setup via G\-C\-I\-\_\-set\-\_\-restrain\-\_\-limits. \\
\hline
\mbox{\tt in}  & {\em chisq\-\_\-delta} & An individual fit will continue if the chisq value changes by more then this amount. Try 1\-E-\/5. (T\-R\-I2\-: \char`\"{}\-Stopping Criterion\char`\"{}) \\
\hline
\mbox{\tt in}  & {\em fitfunc} & Encodes the function to fit to the data, e.\-g. \hyperlink{_ecf_8h_ac180a3ee448f5962b0f0af64fe809e3d}{G\-C\-I\-\_\-multiexp\-\_\-tau}. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-param1} & The index to first param we are analysing with spa. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-nvalues1} & The number of values of first parameter we are to calculate the chisq value for. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-low1} & The lowest first parameter value to use. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-high1} & The highest first parameter value to use. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-param2} & The index to second param we are analysing with spa. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-nvalues2} & The number of values of second parameter we are to calculate the chisq value for. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-low2} & The lowest second parameter value to use. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-high2} & The highest second parameter value to use. \\
\hline
\mbox{\tt out}  & {\em chisq\-\_\-global} & The resulting array of raw chi squared values of the total global fit. To get the reduced chisq, divide by the degrees of freedom df. \\
\hline
\mbox{\tt out}  & {\em df} & The degrees of freedom. \\
\hline
\mbox{\tt in}  & {\em progressfunc} & A pointer to a function that may provide some feedback to the user on progress. A number between 0 and 1 is sent to this function after each iteration. (optional\-: may by N\-U\-L\-L) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error code, 0 = success. 
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{_ecf_8h_a453a6f925407eca916460aceb57c77cb}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr} 

\hyperlink{_ecf_8h_ad8c7cdbe73b7ec002bd6e8ac431b9d3e}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-global\-\_\-exps\-\_\-instr} 

\hyperlink{_ecf_8h_a3061b9b85996dba7b3342592671a3733}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-global\-\_\-generic\-\_\-instr} 
\end{DoxySeeAlso}
\hypertarget{_ecf_8h_aaff4047b469c3733f1a96002c5245b24}{\index{Ecf.\-h@{Ecf.\-h}!G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-instr@{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-instr}}
\index{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-instr@{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-instr}!Ecf.h@{Ecf.\-h}}
\subsubsection[{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-instr}]{\setlength{\rightskip}{0pt plus 5cm}int G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt\-\_\-instr (
\begin{DoxyParamCaption}
\item[{float}]{xincr, }
\item[{float}]{y\mbox{[}$\,$\mbox{]}, }
\item[{int}]{ndata, }
\item[{int}]{fit\-\_\-start, }
\item[{int}]{fit\-\_\-end, }
\item[{float}]{instr\mbox{[}$\,$\mbox{]}, }
\item[{int}]{ninstr, }
\item[{{\bf noise\-\_\-type}}]{noise, }
\item[{float}]{sig\mbox{[}$\,$\mbox{]}, }
\item[{float}]{param\mbox{[}$\,$\mbox{]}, }
\item[{int}]{paramfree\mbox{[}$\,$\mbox{]}, }
\item[{int}]{nparam, }
\item[{{\bf restrain\-\_\-type}}]{restrain, }
\item[{float}]{chisq\-\_\-delta, }
\item[{void($\ast$)(float, float\mbox{[}$\,$\mbox{]}, float $\ast$, float\mbox{[}$\,$\mbox{]}, int)}]{fitfunc, }
\item[{int}]{spa\-\_\-param1, }
\item[{int}]{spa\-\_\-nvalues1, }
\item[{float}]{spa\-\_\-low1, }
\item[{float}]{spa\-\_\-high1, }
\item[{int}]{spa\-\_\-param2, }
\item[{int}]{spa\-\_\-nvalues2, }
\item[{float}]{spa\-\_\-low2, }
\item[{float}]{spa\-\_\-high2, }
\item[{float $\ast$$\ast$}]{chisq, }
\item[{float}]{chisq\-\_\-target, }
\item[{void($\ast$)(float)}]{progressfunc}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_aaff4047b469c3733f1a96002c5245b24}


Support plane analysis for 2 parameters with instrument response (prompt or I\-R\-F). 

This fucntion will perform a number of fits with two fixed parameters that vary between the spa\-\_\-low and spa\-\_\-high values. The array of chisq values is returned that forms the 'support plane'.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em xincr} & The time increment in between the values in the y array. \\
\hline
\mbox{\tt in}  & {\em y} & The transient (time resolved) signal to be analysed, the 'data'. \\
\hline
\mbox{\tt in}  & {\em ndata} & The number of data points. \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-start} & The index into the y array marking the start to the data to be used in the fit. Some data before this start index is required for convolution with the prompt. \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-end} & The index into the y array marking the end of the data to be used in the fit. \\
\hline
\mbox{\tt in}  & {\em instr} & The instrument response (I\-R\-F) or prompt signal to be used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em ninstr} & The number of data points in the prompt (ignored if prompt = N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em noise} & The \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} to be used. \\
\hline
\mbox{\tt in}  & {\em sig} & The standard deviation at each data point in y if \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} N\-O\-I\-S\-E\-\_\-\-G\-I\-V\-E\-N is used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in,out}  & {\em param} & An array of parameters, the order of which must match fitfunc. Provide parameter estimates, these are overridden with the fitted values. \\
\hline
\mbox{\tt in}  & {\em paramfree} & An array indicating which parameters are free (1), fixed (0). \\
\hline
\mbox{\tt in}  & {\em nparam} & The number of parameters. \\
\hline
\mbox{\tt in}  & {\em restrain} & Parameter \hyperlink{_ecf_8h_ab577c048e57126ea37f6656e97e547e7}{restrain\-\_\-type}. Normally use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-D\-E\-F\-A\-U\-L\-T. Use E\-C\-F\-\_\-\-R\-E\-S\-T\-R\-A\-I\-N\-\_\-\-U\-S\-E\-R if restraining parameters has been setup via G\-C\-I\-\_\-set\-\_\-restrain\-\_\-limits. \\
\hline
\mbox{\tt in}  & {\em chisq\-\_\-delta} & An individual fit will continue if the chisq value changes by more then this amount. Try 1\-E-\/5. (T\-R\-I2\-: \char`\"{}\-Stopping Criterion\char`\"{}) \\
\hline
\mbox{\tt in}  & {\em fitfunc} & Encodes the function to fit to the data, e.\-g. \hyperlink{_ecf_8h_ac180a3ee448f5962b0f0af64fe809e3d}{G\-C\-I\-\_\-multiexp\-\_\-tau}. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-param1} & The index to first param we are analysing with spa. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-nvalues1} & The number of values of first parameter we are to calculate the chisq value for. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-low1} & The lowest first parameter value to use. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-high1} & The highest first parameter value to use. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-param2} & The index to second param we are analysing with spa. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-nvalues2} & The number of values of second parameter we are to calculate the chisq value for. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-low2} & The lowest second parameter value to use. \\
\hline
\mbox{\tt in}  & {\em spa\-\_\-high2} & The highest second parameter value to use. \\
\hline
\mbox{\tt out}  & {\em chisq} & An matrix of resulting raw chi squared values. To get the reduced chisq, divide by the degrees of freedom (fit\-\_\-start -\/ fit\-\_\-end -\/ nparam), Allocate with {\ttfamily chisq = (float $\ast$$\ast$)malloc} \\
\hline
\mbox{\tt in}  & {\em chisq\-\_\-target} & A raw chi squared value to aim for. If this value is reached fitting will stop. If you want to aim for a reduced chisq (say 1.\-1 or 1.\-0) you must multiply by the degree of freedom. (T\-R\-I2\-: \char`\"{}\-Try refits\char`\"{}) \\
\hline
\mbox{\tt in}  & {\em progressfunc} & A pointer to a function that may provide some feedback to the user on progress. A number between 0 and 1 is sent to this function after each iteration. (optional\-: may by N\-U\-L\-L) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error code, 0 = success.
\end{DoxyReturn}
\begin{DoxySeeAlso}{See Also}
\hyperlink{_ecf_8h_ae1168eba7dd501dd4427c436d6351d1d}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt} 

\hyperlink{_ecf_8h_a1b39dab2b8a463ca924475c8633696e2}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-2\-D\-\_\-marquardt} 

\hyperlink{_ecf_8h_a9e3f8e4749667b5b5f1720d73ce50763}{G\-C\-I\-\_\-\-S\-P\-A\-\_\-1\-D\-\_\-marquardt\-\_\-instr} 
\end{DoxySeeAlso}
\hypertarget{_ecf_8h_abd5e64cbb4216ace85ecb0f4529fd3aa}{\index{Ecf.\-h@{Ecf.\-h}!G\-C\-I\-\_\-stretchedexp@{G\-C\-I\-\_\-stretchedexp}}
\index{G\-C\-I\-\_\-stretchedexp@{G\-C\-I\-\_\-stretchedexp}!Ecf.h@{Ecf.\-h}}
\subsubsection[{G\-C\-I\-\_\-stretchedexp}]{\setlength{\rightskip}{0pt plus 5cm}void G\-C\-I\-\_\-stretchedexp (
\begin{DoxyParamCaption}
\item[{float}]{x, }
\item[{float}]{param\mbox{[}$\,$\mbox{]}, }
\item[{float $\ast$}]{y, }
\item[{float}]{dy\-\_\-dparam\mbox{[}$\,$\mbox{]}, }
\item[{int}]{nparam}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_abd5e64cbb4216ace85ecb0f4529fd3aa}


stretched-\/exp predefined fitting model. 


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em x} & The x value to evaluate the function at. \\
\hline
\mbox{\tt in}  & {\em param\mbox{[}$\,$\mbox{]}} & Array containing the parameters to use in the evaluation. \\
\hline
\mbox{\tt out}  & {\em y} & The value of the function at the x value. \\
\hline
\mbox{\tt out}  & {\em dy\-\_\-dparam} & Array of dy/dparam values at this point \\
\hline
\mbox{\tt in}  & {\em nparam} & The number of parameters (may not be used if model has a fixed parameter number) \\
\hline
\end{DoxyParams}
\hypertarget{_ecf_8h_a7790a7e8ebdca31efd349e44add17cd9}{\index{Ecf.\-h@{Ecf.\-h}!G\-C\-I\-\_\-triple\-\_\-integral\-\_\-fitting\-\_\-engine@{G\-C\-I\-\_\-triple\-\_\-integral\-\_\-fitting\-\_\-engine}}
\index{G\-C\-I\-\_\-triple\-\_\-integral\-\_\-fitting\-\_\-engine@{G\-C\-I\-\_\-triple\-\_\-integral\-\_\-fitting\-\_\-engine}!Ecf.h@{Ecf.\-h}}
\subsubsection[{G\-C\-I\-\_\-triple\-\_\-integral\-\_\-fitting\-\_\-engine}]{\setlength{\rightskip}{0pt plus 5cm}int G\-C\-I\-\_\-triple\-\_\-integral\-\_\-fitting\-\_\-engine (
\begin{DoxyParamCaption}
\item[{float}]{xincr, }
\item[{float}]{y\mbox{[}$\,$\mbox{]}, }
\item[{int}]{fit\-\_\-start, }
\item[{int}]{fit\-\_\-end, }
\item[{float}]{instr\mbox{[}$\,$\mbox{]}, }
\item[{int}]{ninstr, }
\item[{{\bf noise\-\_\-type}}]{noise, }
\item[{float}]{sig\mbox{[}$\,$\mbox{]}, }
\item[{float $\ast$}]{Z, }
\item[{float $\ast$}]{A, }
\item[{float $\ast$}]{tau, }
\item[{float $\ast$}]{fitted, }
\item[{float $\ast$}]{residuals, }
\item[{float $\ast$}]{chisq, }
\item[{float}]{chisq\-\_\-target}
\end{DoxyParamCaption}
)}}\label{_ecf_8h_a7790a7e8ebdca31efd349e44add17cd9}


The main entry point for Triple Integral or Rapid Lifetime Determination (R\-L\-D). 

Uses G\-C\-I\-\_\-triple\-\_\-integral\-\_\-$\ast$() to fit repeatedly with different integration periods until chisq\-\_\-target is met or a maximum number of iterations are used.


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em xincr} & The time increment inbetween the values in the y array. \\
\hline
\mbox{\tt in}  & {\em y} & The transient (time resolved) signal to be analysed, the 'data'. \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-start} & The index into the y array marking the start to the data to be used in the fit. \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-end} & The index into the y array marking the end of the data to be used in the fit. \\
\hline
\mbox{\tt in}  & {\em instr} & The instrument reponse (I\-R\-F) or prompt signal to be used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em ninstr} & The number of data points in the prompt (ignored if prompt = N\-U\-L\-L). \\
\hline
\mbox{\tt in}  & {\em noise} & The \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} to be used. \\
\hline
\mbox{\tt in}  & {\em sig} & The standard deviation at each data point in y if \hyperlink{_ecf_8h_a603ad628eaeb162f9f6326cbec927b89}{noise\-\_\-type} N\-O\-I\-S\-E\-\_\-\-G\-I\-V\-E\-N is used (optional, can pass N\-U\-L\-L). \\
\hline
\mbox{\tt out}  & {\em Z} & The returned background value from the fit. \\
\hline
\mbox{\tt out}  & {\em A} & The returned amplitude value from the fit. \\
\hline
\mbox{\tt out}  & {\em tau} & The returned lifetime value from the fit. \\
\hline
\mbox{\tt out}  & {\em fitted} & An array containing values fitted to the data, the 'fit'. Fit points are coincident in time with the data points. \\
\hline
\mbox{\tt out}  & {\em residuals} & An array containing the difference between the data and the fit. \\
\hline
\mbox{\tt out}  & {\em chisq} & The resulting raw chi squared value of the fit. To get the reduced chisq, divide by the degrees of freedom (fit\-\_\-start -\/ fit\-\_\-end -\/ nparam) \\
\hline
\mbox{\tt in}  & {\em chisq\-\_\-target} & A raw chi squared value to aim for. If this value is reached fitting will stop. If you want to aim for a reduced chisq (say 1.\-1 or 1.\-0) you must multiply by the degree of freedom. (T\-R\-I2\-: \char`\"{}\-Try refits\char`\"{}) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error code, 0 = success. 
\end{DoxyReturn}
