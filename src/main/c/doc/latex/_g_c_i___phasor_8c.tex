\hypertarget{_g_c_i___phasor_8c}{\section{G\-C\-I\-\_\-\-Phasor.\-c File Reference}
\label{_g_c_i___phasor_8c}\index{G\-C\-I\-\_\-\-Phasor.\-c@{G\-C\-I\-\_\-\-Phasor.\-c}}
}


S\-L\-I\-M Curve -\/ Phasor analysis.  


{\ttfamily \#include $<$math.\-h$>$}\\*
{\ttfamily \#include $<$string.\-h$>$}\\*
{\ttfamily \#include \char`\"{}G\-C\-I\-\_\-\-Phasor.\-h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\hypertarget{_g_c_i___phasor_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}{\#define {\bfseries N\-U\-L\-L}~0}\label{_g_c_i___phasor_8c_a070d2ce7b6bb7e5c05602aa8c308d0c4}

\item 
\hypertarget{_g_c_i___phasor_8c_af81ea2fbefb86ba9912967858649cf67}{\#define {\bfseries P\-H\-A\-S\-O\-R\-\_\-\-E\-R\-R\-\_\-\-N\-O\-\_\-\-E\-R\-R\-O\-R}~0}\label{_g_c_i___phasor_8c_af81ea2fbefb86ba9912967858649cf67}

\item 
\hypertarget{_g_c_i___phasor_8c_a0e4b318d172f46a369eeda1c68746f1f}{\#define {\bfseries P\-H\-A\-S\-O\-R\-\_\-\-E\-R\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-D\-A\-T\-A}~-\/1}\label{_g_c_i___phasor_8c_a0e4b318d172f46a369eeda1c68746f1f}

\item 
\hypertarget{_g_c_i___phasor_8c_ae2bec92de1983c2a451aebfc37b42595}{\#define {\bfseries P\-H\-A\-S\-O\-R\-\_\-\-E\-R\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-W\-I\-N\-D\-O\-W}~-\/2}\label{_g_c_i___phasor_8c_ae2bec92de1983c2a451aebfc37b42595}

\item 
\hypertarget{_g_c_i___phasor_8c_abf3bc14eec307dd3e9ee928bdaaa6fbe}{\#define {\bfseries P\-H\-A\-S\-O\-R\-\_\-\-E\-R\-R\-\_\-\-I\-N\-V\-A\-L\-I\-D\-\_\-\-M\-O\-D\-E\-L}~-\/3}\label{_g_c_i___phasor_8c_abf3bc14eec307dd3e9ee928bdaaa6fbe}

\item 
\hypertarget{_g_c_i___phasor_8c_a6d6b8bb49dbf60c78dfb924b3bc69395}{\#define {\bfseries P\-H\-A\-S\-O\-R\-\_\-\-E\-R\-R\-\_\-\-F\-U\-N\-C\-T\-I\-O\-N\-A\-L\-I\-T\-Y\-\_\-\-N\-O\-T\-\_\-\-S\-U\-P\-P\-O\-R\-T\-E\-D}~-\/4}\label{_g_c_i___phasor_8c_a6d6b8bb49dbf60c78dfb924b3bc69395}

\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
\hypertarget{_g_c_i___phasor_8c_a1f30f52702c6f6da660190365e0fda77}{void {\bfseries set\-Phasor\-Period} (double period)}\label{_g_c_i___phasor_8c_a1f30f52702c6f6da660190365e0fda77}

\item 
double \hyperlink{_g_c_i___phasor_8c_a23c618928152a85a0e2974de68ede0f5}{G\-C\-I\-\_\-\-Phasor\-\_\-get\-Period} ()
\begin{DoxyCompactList}\small\item\em Get the phasor period that was calculated and used in the last call to G\-C\-I\-\_\-\-Phasor. \end{DoxyCompactList}\item 
int \hyperlink{_g_c_i___phasor_8c_a7fa5e3b745f0480377e81575e941fb7a}{G\-C\-I\-\_\-\-Phasor} (float xincr, float y\mbox{[}$\,$\mbox{]}, int fit\-\_\-start, int fit\-\_\-end, float $\ast$Z, float $\ast$U, float $\ast$V, float $\ast$taup, float $\ast$taum, float $\ast$tau, float $\ast$fitted, float $\ast$residuals, float $\ast$chisq)
\begin{DoxyCompactList}\small\item\em G\-C\-I\-\_\-\-Phasor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
S\-L\-I\-M Curve -\/ Phasor analysis. Classic Phasor or Polar approach to F\-L\-I\-M. See Clayton 2004 or Leray 2008. 

Definition in file \hyperlink{_g_c_i___phasor_8c_source}{G\-C\-I\-\_\-\-Phasor.\-c}.



\subsection{Function Documentation}
\hypertarget{_g_c_i___phasor_8c_a7fa5e3b745f0480377e81575e941fb7a}{\index{G\-C\-I\-\_\-\-Phasor.\-c@{G\-C\-I\-\_\-\-Phasor.\-c}!G\-C\-I\-\_\-\-Phasor@{G\-C\-I\-\_\-\-Phasor}}
\index{G\-C\-I\-\_\-\-Phasor@{G\-C\-I\-\_\-\-Phasor}!GCI_Phasor.c@{G\-C\-I\-\_\-\-Phasor.\-c}}
\subsubsection[{G\-C\-I\-\_\-\-Phasor}]{\setlength{\rightskip}{0pt plus 5cm}int G\-C\-I\-\_\-\-Phasor (
\begin{DoxyParamCaption}
\item[{float}]{xincr, }
\item[{float}]{y\mbox{[}$\,$\mbox{]}, }
\item[{int}]{fit\-\_\-start, }
\item[{int}]{fit\-\_\-end, }
\item[{float $\ast$}]{Z, }
\item[{float $\ast$}]{U, }
\item[{float $\ast$}]{V, }
\item[{float $\ast$}]{taup, }
\item[{float $\ast$}]{taum, }
\item[{float $\ast$}]{tau, }
\item[{float $\ast$}]{fitted, }
\item[{float $\ast$}]{residuals, }
\item[{float $\ast$}]{chisq}
\end{DoxyParamCaption}
)}}\label{_g_c_i___phasor_8c_a7fa5e3b745f0480377e81575e941fb7a}


G\-C\-I\-\_\-\-Phasor. 

Take transient data and perform phasor analysis, returning u, v, and estimated lifetime.

See Clayton 2004 or Leray 2008 Classic Phasor or Polar approach to F\-L\-I\-M

u = integral(data(t) $\ast$ cos(wt)) dt / integral(data(t)) dt v = integral(data(t) $\ast$ sin(wt)) dt / integral(data(t)) dt

tau phi = taup = 1/w $\ast$ (v/u) tau mod = taum = 1/w $\ast$ sqrt(1/(u$^\wedge$2 + v$^\wedge$2) -\/ 1) tau average = tau = (taup + taum) / 2

Z must have been estimated previously so that it can be subtracted from the data here A is estimated by making the photon count in the fit the same as the data

chisq is calculated for comparison with other methods but is not used as there is no optimisation with this method 

Definition at line 82 of file G\-C\-I\-\_\-\-Phasor.\-c.

\hypertarget{_g_c_i___phasor_8c_a23c618928152a85a0e2974de68ede0f5}{\index{G\-C\-I\-\_\-\-Phasor.\-c@{G\-C\-I\-\_\-\-Phasor.\-c}!G\-C\-I\-\_\-\-Phasor\-\_\-get\-Period@{G\-C\-I\-\_\-\-Phasor\-\_\-get\-Period}}
\index{G\-C\-I\-\_\-\-Phasor\-\_\-get\-Period@{G\-C\-I\-\_\-\-Phasor\-\_\-get\-Period}!GCI_Phasor.c@{G\-C\-I\-\_\-\-Phasor.\-c}}
\subsubsection[{G\-C\-I\-\_\-\-Phasor\-\_\-get\-Period}]{\setlength{\rightskip}{0pt plus 5cm}double G\-C\-I\-\_\-\-Phasor\-\_\-get\-Period (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{_g_c_i___phasor_8c_a23c618928152a85a0e2974de68ede0f5}


Get the phasor period that was calculated and used in the last call to G\-C\-I\-\_\-\-Phasor. 

\begin{DoxyReturn}{Returns}
The period in the time units of xinc. 
\end{DoxyReturn}


Definition at line 57 of file G\-C\-I\-\_\-\-Phasor.\-c.

