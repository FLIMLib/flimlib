\hypertarget{_g_c_i___phasor_8h}{\section{G\-C\-I\-\_\-\-Phasor.\-h File Reference}
\label{_g_c_i___phasor_8h}\index{G\-C\-I\-\_\-\-Phasor.\-h@{G\-C\-I\-\_\-\-Phasor.\-h}}
}


S\-L\-I\-M Curve -\/ Phasor analysis Header.  


\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
int \hyperlink{_g_c_i___phasor_8h_af51fe3139a92320f582ac7abb56d6495}{G\-C\-I\-\_\-\-Phasor} (float xincr, float y\mbox{[}$\,$\mbox{]}, int fit\-\_\-start, int fit\-\_\-end, float $\ast$Z, float $\ast$u, float $\ast$v, float $\ast$taup, float $\ast$taum, float $\ast$tau, float $\ast$fitted, float $\ast$residuals, float $\ast$chisq)
\begin{DoxyCompactList}\small\item\em Take transient data and perform phasor analysis, returning u, v, and estimated lifetime. \end{DoxyCompactList}\item 
double \hyperlink{_g_c_i___phasor_8h_a23c618928152a85a0e2974de68ede0f5}{G\-C\-I\-\_\-\-Phasor\-\_\-get\-Period} ()
\begin{DoxyCompactList}\small\item\em Get the phasor period that was calculated and used in the last call to G\-C\-I\-\_\-\-Phasor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
S\-L\-I\-M Curve -\/ Phasor analysis Header. Classic Phasor or Polar approach to F\-L\-I\-M. See Clayton 2004 or Leray 2008. 

Definition in file \hyperlink{_g_c_i___phasor_8h_source}{G\-C\-I\-\_\-\-Phasor.\-h}.



\subsection{Function Documentation}
\hypertarget{_g_c_i___phasor_8h_af51fe3139a92320f582ac7abb56d6495}{\index{G\-C\-I\-\_\-\-Phasor.\-h@{G\-C\-I\-\_\-\-Phasor.\-h}!G\-C\-I\-\_\-\-Phasor@{G\-C\-I\-\_\-\-Phasor}}
\index{G\-C\-I\-\_\-\-Phasor@{G\-C\-I\-\_\-\-Phasor}!GCI_Phasor.h@{G\-C\-I\-\_\-\-Phasor.\-h}}
\subsubsection[{G\-C\-I\-\_\-\-Phasor}]{\setlength{\rightskip}{0pt plus 5cm}int G\-C\-I\-\_\-\-Phasor (
\begin{DoxyParamCaption}
\item[{float}]{xincr, }
\item[{float}]{y\mbox{[}$\,$\mbox{]}, }
\item[{int}]{fit\-\_\-start, }
\item[{int}]{fit\-\_\-end, }
\item[{float $\ast$}]{Z, }
\item[{float $\ast$}]{u, }
\item[{float $\ast$}]{v, }
\item[{float $\ast$}]{taup, }
\item[{float $\ast$}]{taum, }
\item[{float $\ast$}]{tau, }
\item[{float $\ast$}]{fitted, }
\item[{float $\ast$}]{residuals, }
\item[{float $\ast$}]{chisq}
\end{DoxyParamCaption}
)}}\label{_g_c_i___phasor_8h_af51fe3139a92320f582ac7abb56d6495}


Take transient data and perform phasor analysis, returning u, v, and estimated lifetime. 

u = integral(data(t) $\ast$ cos(wt)) dt / integral(data(t)) dt v = integral(data(t) $\ast$ sin(wt)) dt / integral(data(t)) dt

tau phi = taup = 1/w $\ast$ (v/u) tau mod = taum = 1/w $\ast$ sqrt(1/(u$^\wedge$2 + v$^\wedge$2) -\/ 1) tau average = tau = (taup + taum) / 2


\begin{DoxyParams}[1]{Parameters}
\mbox{\tt in}  & {\em xincr} & The time increment inbetween the values in the y array. \\
\hline
\mbox{\tt in}  & {\em y} & The transient (time resolved) signal to be analysed, the 'data'. \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-start} & The index into the y array marking the start to the data to be used in the fit. \\
\hline
\mbox{\tt in}  & {\em fit\-\_\-end} & The index into the y array marking the end of the data to be used in the fit. \\
\hline
\mbox{\tt out}  & {\em Z} & must have been estimated previously so that it can be subtracted from the data here. \\
\hline
\mbox{\tt out}  & {\em u} & The 'horizontal' phasor coordinate. \\
\hline
\mbox{\tt out}  & {\em v} & The 'vertical' phasor coordinate. \\
\hline
\mbox{\tt out}  & {\em taup} & The lifetime calculated from the phase change. \\
\hline
\mbox{\tt out}  & {\em taum} & The lifetime calculated from the amplitude change (the demodulation). \\
\hline
\mbox{\tt out}  & {\em tau} & The average of the other taus. \\
\hline
\mbox{\tt out}  & {\em fitted} & An array containing values fitted to the data, the 'fit'. Fit points are coincident in time with the data points. \\
\hline
\mbox{\tt out}  & {\em residuals} & An array containing the difference between the data and the fit. \\
\hline
\mbox{\tt out}  & {\em chisq} & The resulting reduced chi squared value of the fit. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
An error code, 0 = success. 
\end{DoxyReturn}
\hypertarget{_g_c_i___phasor_8h_a23c618928152a85a0e2974de68ede0f5}{\index{G\-C\-I\-\_\-\-Phasor.\-h@{G\-C\-I\-\_\-\-Phasor.\-h}!G\-C\-I\-\_\-\-Phasor\-\_\-get\-Period@{G\-C\-I\-\_\-\-Phasor\-\_\-get\-Period}}
\index{G\-C\-I\-\_\-\-Phasor\-\_\-get\-Period@{G\-C\-I\-\_\-\-Phasor\-\_\-get\-Period}!GCI_Phasor.h@{G\-C\-I\-\_\-\-Phasor.\-h}}
\subsubsection[{G\-C\-I\-\_\-\-Phasor\-\_\-get\-Period}]{\setlength{\rightskip}{0pt plus 5cm}double G\-C\-I\-\_\-\-Phasor\-\_\-get\-Period (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{_g_c_i___phasor_8h_a23c618928152a85a0e2974de68ede0f5}


Get the phasor period that was calculated and used in the last call to G\-C\-I\-\_\-\-Phasor. 

\begin{DoxyReturn}{Returns}
The period in the time units of xinc. 
\end{DoxyReturn}
